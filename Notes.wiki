= Contents =
    - [[#Network Concepts|Network Concepts]]
    - [[#OSI Model to Describe Network Operations|OSI Model to Describe Network Operations]]
        - [[#OSI Model to Describe Network Operations#Layer 7: Application Layer|Layer 7: Application Layer]]
        - [[#OSI Model to Describe Network Operations#Layer 6: Presentation Layer|Layer 6: Presentation Layer]]
        - [[#OSI Model to Describe Network Operations#Layer 5: Session Layer|Layer 5: Session Layer]]
            - [[#OSI Model to Describe Network Operations#Layer 5: Session Layer#Layer 4: Transport Layer|Layer 4: Transport Layer]]
        - [[#OSI Model to Describe Network Operations#Layer 3: Network Layer|Layer 3: Network Layer]]
        - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer|Layer 2: Data Link Layer]]
            - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Ethernet|Ethernet]]
            - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Wireless Ethernet Protocols 802.11|Wireless Ethernet Protocols 802.11]]
            - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Wireless Topologies and management|Wireless Topologies and management]]
            - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Wireless Encryption|Wireless Encryption]]
            - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Cellular Wireless|Cellular Wireless]]
            - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Layer 2 Devices and Services|Layer 2 Devices and Services]]
                - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Layer 2 Devices and Services#Traffic Shaping|Traffic Shaping]]
                - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Layer 2 Devices and Services#Local Neighbor Discovery|Local Neighbor Discovery]]
                - [[#OSI Model to Describe Network Operations#Layer 2: Data Link Layer#Layer 2 Devices and Services#Other Network Devices|Other Network Devices]]
        - [[#OSI Model to Describe Network Operations#Layer 1: Physical Layer|Layer 1: Physical Layer]]
    - [[#Encapsulation and the OSI Model|Encapsulation and the OSI Model]]
    - [[#Routing IP Traffic|Routing IP Traffic]]
    - [[#Binary Counting|Binary Counting]]
    - [[#Converting Decimal to Binary|Converting Decimal to Binary]]
    - [[#Hexadecimal|Hexadecimal]]
    - [[#IP Addressing|IP Addressing]]
        - [[#IP Addressing#IPv4|IPv4]]
        - [[#IP Addressing#Classful vs Classless addressing|Classful vs Classless addressing]]
        - [[#IP Addressing#Address Types|Address Types]]
        - [[#IP Addressing#IP Routing|IP Routing]]
        - [[#IP Addressing#Tracert|Tracert]]
    - [[#CIDER Classless Inter-Domain Routing|CIDER Classless Inter-Domain Routing]]
    - [[#Private IP Addresses|Private IP Addresses]]
    - [[#Subletting Basics|Subletting Basics]]
        - [[#Subletting Basics#Variable Length Subnet Masking VLSM|Variable Length Subnet Masking VLSM]]
    - [[#IPv6|IPv6]]
        - [[#IPv6#IPV6 Address Components|IPV6 Address Components]]
        - [[#IPv6#IPv4 Address Size|IPv4 Address Size]]
        - [[#IPv6#IPv6 Addresses|IPv6 Addresses]]
        - [[#IPv6#IPv6 Address Operation|IPv6 Address Operation]]
        - [[#IPv6#IPv6 Address Types|IPv6 Address Types]]
        - [[#IPv6#IPv6 Address Acquisitions|IPv6 Address Acquisitions]]
        - [[#IPv6#IPv6 DHCP|IPv6 DHCP]]
        - [[#IPv6#IPv6 Tunneling|IPv6 Tunneling]]
    - [[#Network Services|Network Services]]
        - [[#Network Services#Network Address Translation|Network Address Translation]]
        - [[#Network Services#Dynamic Host Configuration Protocol|Dynamic Host Configuration Protocol]]
        - [[#Network Services#Domain Name System|Domain Name System]]
        - [[#Network Services#Network Toplogies and Types|Network Toplogies and Types]]
        - [[#Network Services#Blank Area Networks|Blank Area Networks]]
            - [[#Network Services#Blank Area Networks#Network Classifications|Network Classifications]]
        - [[#Network Services#WAN Technologies|WAN Technologies]]
        - [[#Network Services#Virtualed Networks|Virtualed Networks]]
    - [[#Network Monitoring|Network Monitoring]]
        - [[#Network Monitoring#Collecting Network Monitoring Data|Collecting Network Monitoring Data]]
        - [[#Network Monitoring#IT Documentation|IT Documentation]]
        - [[#Network Monitoring#Network Drawings|Network Drawings]]
        - [[#Network Monitoring#Corporate and Data Center Architectures|Corporate and Data Center Architectures]]
        - [[#Network Monitoring#Cloud Services|Cloud Services]]
            - [[#Network Monitoring#Cloud Services#Public, Private, Hybrid, Community Clouds|Public, Private, Hybrid, Community Clouds]]
            - [[#Network Monitoring#Cloud Services#Software as a service|Software as a service]]
            - [[#Network Monitoring#Cloud Services#Platform as a service|Platform as a service]]
            - [[#Network Monitoring#Cloud Services#Infrastructure as a service|Infrastructure as a service]]
            - [[#Network Monitoring#Cloud Services#Desktop as a service|Desktop as a service]]
        - [[#Network Monitoring#Cloud Benefits|Cloud Benefits]]
    - [[#Network Troublehooting|Network Troublehooting]]
        - [[#Network Troublehooting#Irritive Troublehooting Methodology|Irritive Troublehooting Methodology]]
        - [[#Network Troublehooting#Identifying and troubleshooting cable issues|Identifying and troubleshooting cable issues]]
        - [[#Network Troublehooting#CLI Utilities:|CLI Utilities:]]
        - [[#Network Troublehooting#Network Software Utilities|Network Software Utilities]]
        - [[#Network Troublehooting#Wireless troubleshooting and utilities|Wireless troubleshooting and utilities]]
    - [[#Troubleshooting common PC networking issues|Troubleshooting common PC networking issues]]
    - [[#Troubleshooting Layer 7 and above issues|Troubleshooting Layer 7 and above issues]]
    - [[#Smart Hands Training|Smart Hands Training]]
        - [[#Smart Hands Training#Switches|Switches]]
        - [[#Smart Hands Training#Switch Configuration|Switch Configuration]]
        - [[#Smart Hands Training#Accessing a switch|Accessing a switch]]




= Network Concepts =

= OSI Model to Describe Network Operations =

== Layer 7: Application Layer ==
* Protocols
    1. Hypertext Transfer Protocol http and https
        - 
    2. Data Transfer Protocols
        - FTP, sftp and TrivialFTP for small file transfers, ServerMessageBlock SMB for windows shared drive from workstations to other work stations.  
        - SMB:
            - To mount a SMB drive you can "Map network drive" above drives A,B,C,D
        - Email:
            - POP3: Retrieve email from the server
            - IMAP: Retrieve email from the server
            - SMTP: Send email from the server
    3. Authentication Protocols
        - LDAP & LDAPs
    4. Network Service Protocols
        - Dynamic Host Configuration Protocol DHCP, giving workstation an IP address when plugged into the network.
        - DHCP sends out 'offer message', containing:
            - IP Address
            - Subnet Mask
            - Default Gateway
            - DNS Server
            - Other Information
        - DHCP is accessed via command prompt 'ipconfig', delete records via 'ipconfig /release' or add IP via 'ipconfig /renew'
        - DNS/Nameserver: translate IP address to human readable. :54
        - DNS lookup on windows in CMD is nslookup
        - NTP: UTC time
    5. Network Management Protocols
        -  Telnet & SSH
        - Simple Network Management Protocol SNMP: allows devices to send simple messages back to server. - When SNMP server says 'walk the tree' it messages all devices on network with numbers called MIBs, management information base, to add to a table all the events happening on devices. 
            - SNMP Trap: when something happens on device, it sends message to SNMP server saying an event happened.
        - Syslog: mechanism to send logs on devices to a syslog server, so the event is recorded, like plugging something into a switch to make it active.
        - RDP: Remote Desktop Protocol, access GUI interface of headless computers. 
    6. Audio and Visual Protocols
        - H.323: video and voice  
        - SIP: VOIP phones, transfers voice to a VOIP gateway
    7. Database Protocols 
        - SQL Databases: 
            * Servers
                - mySQL: open source
                - SQLnet: Oracle
                - SQL Server: Microsoft
            * Language on the server
            * Protocol used to communicate across the network to access the database
      

== Layer 6: Presentation Layer ==
* Don't really use this layer
* IBM created "Extended Binary Coded Decimal Interchange Code" EBCDIC as an alternative to ASCII

== Layer 5: Session Layer ==
* Not important for networking

=== Layer 4: Transport Layer===
* Protocols
    - Transmission Control Protocol TCP
        * HTTP uses port 80 and HTTPS uses port 443
        * Port 443 is used by SSL and TLS, which is the same thing.
        * FTP port 20/21, sFTP port 22, and TrivialFTP port 69, SMB port 445 
        * Responsible for building a session and maintaining two end points like client and server.  
            - Initiates conversations
            - TCP 3 Way Handshake:
                1. SYN
                2. SYN-ACK
                3. ACK
                4. Client ask for server to start sending website data
                5. Server starts sending data back to Client
                6. Fin (when all data is done sending)
                7. FIN-ACK
                8. FIN
                9. FIN-ACK
                10. Sometimes TCP Reset is sent and a RST commend will stop the conversation, either client, server or a firewall can send a RST
         - User Datagram Protocol UDP
            * No 3 way handshake
            * no reliable communication
            * no sequence numbers and no ACK numbers
            * Used for efficient data, but no way to make sure data is good. 
    - Protocol Dependencies
        * Protocols (ex HTTP, FTP, IMAP) have ports dedicated/assigned to, use a specific Transport Layer Protocol
            - Most use TCP but LDAP uses TCP/UDP and TrivialFTP uses UDP.

* Port Numbers
    - Total port numbers: 0 - 65,535 
    - Server port numbers / Well Known / Registered Port Numbers
        * Well Known 0 - 1023
            - See list below of "Well Known Port Numbers"
        * Registered 1024 - 49151
            - These port numbers are for custom applications, both official and unofficial
    - Client Port Numbers / Ephemeral Port Numbers
        - 49152 - 65525 
        - These port numbers are created by the PC to identify the session that they are creating.   
    
      
* Well Known / Common Port Numbers
    - SSL/TLS which is the same thing:443
    - FTP: 20/21, SFTP: 22, TrivialFTP: 69, SMB: 445 
    - POP3: 110/995, IMAP: 143/993, SMTP 25/465
    - LDAP: 389
    - LDAP: 636
    - DHCP: 67/68 UDP  
    - DNS: 53 TCP/UDP
    - DNS over HTTPS, DoH: 443 
    - NTP: 389
    - Telnet: 23 TCP
    - SSH: 22 TCP 
    - SNMP: 161/162
    - Syslog: 514
    - RDP: 3389 3389
    - H.323: 1719 TCP/UDP
    - SIP: 5060/5061 TCP/UDP
    - mySQL: 3306
    - SWLnet: 1521
    - SQL Server: 1433
    - HTTP: 80
    - HTTPS: 443
    - FTP: 20, 21
    - SSH: 22
    - Telnet: 23      
    - NTP: 123 UDP

== Layer 3: Network Layer ==
* allows computers to communicate long distance across the network
* Protocols
    - Transmission Control Protocol TCP
    - Internet Protocol IP
* Addressing in IP

== Layer 2: Data Link Layer ==
* Protocols that allow computers to talk to each other locally
* Protocol: Internet Protocol 
=== Ethernet ===
1. Terms and Concepts
    * CSMA/CD (Carrier Sense Multiple Access with Collision Detection), Old and not used, computers all connect to a cable, and each device would send traffic on the wire. And would often have a Collision with two computers talking at the same time. 
    * Collision Domain: group of networked devices that will simultaneously detect voltage spike 
    * Duplex and Speed
        * Half Duplex: send info once at a time, like walkie talkie. 
        * Full Duplex: both devices send communication at the same time.
    * Ethernet Frame:
        * Package of data, with datalink layer header. Is called a Protocol Data Unit PDU 
| Destination Mac Address                    | Source Mac address | Type                                 | Data (Layer 2 data packet)                     | FCS     |
|--------------------------------------------|--------------------|--------------------------------------|------------------------------------------------|---------|
| 47 bits                                    | 48 bits            | 16 bits                              | MTU MAX 1500 Bytes                             | 32 bits |
| Contains Manufacturer ID and Serial number |                    | says what kind of data is being sent | algorithm value, to make sure its a good frame |         |




=== Wireless Ethernet Protocols 802.11 ===
* 802.11
    * For Enterprise business markets, no encryption 
* 802.11b for consumer/home market
    * 802.11b is faster
        * uses 2.4 GHz 
        * up to 11Mbps bandwidth
        * Initially for SOHO use
    * 802.11g is fastest and merges with enterprise 
        * uses 2.4 GHz only
        * up to 54.Mbps bandwidth 
        * Enterprise/SOHO
    * 802.11n is convergence of 2.4 and 5.0 GHz spectrum
        * up to 300Mbps bandwidth
        * Uses MIMO Multiple input/multiple output, can send out data on both antennas 
* 802.11a for enterprise/business market
    * uses 5.0 GHz spectrum only, up to 54Mbps bandwidth, initially for enterprise use only
* 802.11ac merge of enterprise and consumer WiFi protocol 
    * uses 5.0 GHz spectrum only
    * up to 1.3Gbps bandwidth, similar to wired connection. 
    * Uses Multi User MIMO and beamforming 
* 802.11ax (WiFi 6)
    * 2.4GHz and 5.0GHz plus ISM Bands (industrial, scientific and medical)
    * MIMO and MU-MIMO
    * Beamforming 
    * OFDMA (orthogonal frequency division multiple access) packing data onto a wireless signal as possible
* 801.1q Ethernet for trunk links


=== Wireless Topologies and management ===
* Adhoc
* Extended Service Set ESS
    - Enterprise because there is more than one AP, don't put separate AP, all operating different channels. 
    - Wireless LAN Controller controls all the AP's
    - Creates profiles that you can send out to all the AP's, gives different services to different areas of the network
* BSS Basic Service Set
    * BSSID - MAC Address 
    * SSID Service Set ID
* Point to Point wireless directional antenna (bad when something
    * CanTenna and Yagi Antenna 
* Single Strength and Quality
    * Measured in Decibels dB
    * Signal to Noise Ratio SNR
    * Wireless Channel Bonding 
        * in 22MHz wide channels, we can use channels 1, 6, 11. Well if you take 1 and 6 and merge them at 22 MHz each to make 44 MHz channel, so each channel can send 54 megabits and combined 108 megabits Mbps. 

=== Wireless Encryption ===
* WEP wired equivalency protocol (joke)
* WPA WiFi protected access
   * TKIP Temporal Key Integrity, was extension of WEP
   * AES Advanced Encryption Standard: 
* WPA2 WiFi protected access 2
    * does TKIP and AES and two flavors
    * Personal: Pre Shared Key PSK
    * Enterprise: 802.1x EAP-TLS (username and password and certificate token for each device) Extensible Authentication Protocol - Transport Layer Security
* WPA3 using AES

=== Cellular Wireless ===
* TDMA 2G Time Division Multiple Access, slow
* GSM 3G Global System for Mobile Communications faster speed communication
* CDMA 3G Code Division Multiple Access 
* LTE 4G 5G Long Term Evolution
    * 5G upgrade backed hardware and some wireless bands in cities. 

=== Layer 2 Devices and Services ===
* Modem: modulator demodulator
* Cable Modem
    * Layer 2 Protocol DOCSIS (Data over Cable Service, goes to cable company) to Ethernet
* Fiber Optic Modem 
    * Media converter
    * Fiber Optic Ethernet to Copper Ethernet 
* DSL Modem (Digital Subscriber Line) over phone lines, used audio outside range of human hearing, antiquated

==== Traffic Shaping ====
* VOIP vs video streaming: dropped packet will be noticed by VOIP
* First Come First Serve: delays traffic
* Traffic Shaping: Express lane prioritize Traffic, every other message is a priority. Done by adding special code in header information, or configure switch to give priority to certain VLANs. 
    * Bandwidth Management: Purchase 50Mb from fiber optic ISP
    * Quality of Service: 
    * Flow Control: on switches for traffic sent efficiently 

==== Local Neighbor Discovery ====
* Sends out messages on layer 2 as a router and I have capabilities and this is the port I am sending this message out on. Other devices send info back info. But only with Neighboring devices.  
* Troubleshooting: see who is directly connected. 
* LLDP: Link Layer Discovery Protocol for devices not Cisco based. 
* CDP: Cisco Discovery Protocol, enabled on Cisco devices by default 
    * Commands: `show cdp neighbor`
* Security Issue: if someone attaches to device that is not authorized could see global 

==== Other Network Devices ====
* Load Balancers
    1. Network Layer and Transport Layer
    2. allows to have a single IP address called a VIP (Virtual IP Address)
        * VIP connects to several different servers
        * Numerous servers that can all respond to requests from clients simultaneously depending on the policy, sometimes via round robin or a health check for most resources available. 
        * Distribute load to multiple severs 
* Firewalls
    1. Traditional Firewalls are transport layer. allows network from inside network out but not traffic from outside the network in. 
    2. Access Control Lists: IP Address (or range) and Port Number (or range) 
    3. DMZ: De Militarized Zone, Allows people from the internet to get into the network
    4. Next Generation Firewall NGFW
        * Work at Application Layer and Transport Layer and Network Layer
        * Also does IDS/IPS Intrusion Detection/Intrusion Prevention via a database has signatures of malicious traffic that is undesirable in network
        * Automatically send alerts to admin to investigate to investigate the device. 
        * Proxy Server: filter web and internet traffic so they only access info certain websites and content filter, block traffic, or protect 
        * VPN Concentrator: VPN Headings allows VPN get office resources from home. Creates tunnel of putting IP packets inside other IP packets which are encrypted. 
    5. UTM Unified Threat Management
        * Layer 7 Firewall
        * Content Filter/Proxy Server
        * IDS/IPS
        * Intrusion Detection/Intrusion Prevention. 
        * Pays attention to certain applications. Can see HTTP traffic and verify that its a web browser that is valid vs attacking and tricking firewall to think its a website. 
* VOIP
    * A phone has a switch to connect to network. Gives traffic priority over quality of service, connects to a VoIP gateway which connects to a SIP Trunk to connect to Plain Old Telephone Service             
    * VoIP Gateway dials the phone over the SIP trunk 
* Other Networked Devices
    1. Printers
    2. Heating Ventilating Air Conditioning HVAC: Smart Device
    3. Physical Access Control: Card Readers
    4. Internet of Things: light bulbs, thermostats, refrigerators, doorbells, all kinds of things. 
    5. Security Cameras: IP based, or wireless
    6. Industrial Controls SCADA systems: used in a factory for central server 



== Layer 1: Physical Layer ==
* Wireless 
    * 2.5 GHz for 802.11 wireless needs 22 MHz to transport data, with multiple individual channels. And can only use 3 or 4 of the 14 channels, using 1, 6 and 11.  
    * 5 GHz WiFi spectrum ranges from 5.170 GHz to 5.835 GHz
        * Some channels requires DFS, Dynamic Frequency Selection, which is used by the military, and the equipment needs to detect they are using the channels and need to automatically switch to a channel that is not a DFS channel.
        * Channels that done use DFS: 36, 40, 44, 48, 149, 153, 157, 161
* Cables: 
    * Wireless
    * Copper
        * Twisted Pair Cabling
            1. Twisted wires at different rates prevent crosstalk to make data transfers faster. 
            2. Shielding Twisted Pair STP (has shield), vs Unshielded Twisted Pair UTP 
            3. Connectors: RJ11 (Telephone) and RJ-45 (Ethernet)
            4. Straight Through (PC to Switch, Switch to Router) vs Cross over cable (from like device to like device, router to router, switch to switch, PC to PC, PC to router) 
| Pin# and Color | EIA/TIA-568-B | 568-A             |
|----------------|---------------|-------------------|
| 1 White/Orange | 1- Transmit + | 1 White/Green Tx  |
| 2 Orange       | 2- Transmit - | 2 Green Tx        |
| 3 White/Green  | 3- Receive +  | 3 White Orange Rx |
| 4 Blue         | None          | 4 Blue            |
| 5 White/Blue   | None          | 5 White/Blue      |
| 6 Green        | 6- Receive -  | 6 Orange Rx       |
| 7 White/Brown  | None          | 7 White/Brown     |
| 8 Brown        | None          | 8 Brown           |
            1. Categories
| Cabling Type | Use                        | Ethernet Designation | Name                |             |
|--------------|----------------------------|----------------------|---------------------|-------------|
| Cat 1        | Doorbell                   |                      |                     |             |
| Cat 3        | Telephone/10 Mbps Ethernet | 10BaseT              | Ethernet            |             |
| Cat 5        | 100 Mb Ethernet            | 100BaseT             | Fast Ethernet       |             |
| Cat 5e       | Gigabit Ethernet           | 1000GBaseT           |                     |             |
| Cat 6        | Gigabit Ethernet           | 1000GBaseT           |                     |             |
|              |                            | 1Gbps                | Gigabit Ethernet    | Full Duplex |
| Cat 6a/Cat 7 | 10 Gigabit Ethernet        | 10GBaseT             | 10 Gigabit Ethernet | Full Duplex |
| Cat 8        | 40 Gigabit Ethernet        | 40GBaseT             | 40 Gigabit Ethernet | Full Duplex |
            1. Auto MDI-X (Auto Medium Dependent Interface Crossover) so you can use any kind of cable, straight through or crossover
    * Coaxial Cabling
        1. Cable TV/Cable Internet is RG-6 with a F-Type connector
        2. Twinaxial cable/Twinax has 10GB or 40GB, often with network interface card built into the cable (SFPs), to connect switches, routers, servers or SANs together.
    * Ethernet Switches
        1. Layer two switch
            * MAC address table has ports and MAC addresses connected to the port, ASIC Application-Specific Integrated Circuit, all it does is read the destination and source MAC address of the frames.
            * Switch builds circuit after the MAC address table
        2. Layer two Broadcasts
            * In the Ethernet 2 Frame, the destination MAC address field, if that is all Fs or all binary 1s, it means the frame is sent out to all active interfaces, except the receiving interface 
| Destination MAC Address | Source MAC address | Type    | Data(Packet)   | FCS     |
|-------------------------|--------------------|---------|----------------|---------|
| FFFF FFFF FFFF          | 48 Bits            | 16 Bits | MAX 1500 Bytes | 32 Bits |
            * Flooding: when destination MAC address of the frame is not in the MAC address table, the frame is sent out to all active interfaces, except receiving interface
        1. Broadcast Domain
            * Group of networked devices which all receive a layer 2 broadcast message. 
        2. Connecting Switches (is basically daisy chaining them together)
            * Broadcast storm: clogs and overwhelms switches. So don't connect switches more than twice, or disable the port so one connection is there.
            * Spanning Tree Protocol: shuts down one of the links, so broadcast messages do not repeat in loop. Works with multiple switches.
            * SHOW SPANNING TREE
            * Port Aggregation (Extra bandwidth/Redundancy) via Link Aggregation Control Protocol LAC (open source) 
        3. VLANs
            * Broadcast Domain: do not have computers on with multiple layer 3 networks connected directly/whithin one single layer 2 broadcsat domain connected with a switch (eg 10.0.0.10/24 and 172.16.0.77/24). This is becuase if one device sends out a frame with a destination MAC address of all F's, switch going to forward the frame to all the other active portson the switch except for the port where the broadcast message was received. Also switches cannot directly comuncate with multiple layer 3 networks without a router in the middle.  
                * boradcast domain is a layer 2 function (all the F's in the destination MAC address is a braodcast message) that relates to a layer 3 property in that all the devices in order to work propery in a broadcast domain must have the same network portion of the address
            * VLANS: Joining two networks (or broadcast domains) with a switch, you can assign ports to be a specific VLAN, creating a little mini switch within the switch, so you only forward traffic to intended devices.
                * Computers on two networks, connected by two switches connect by a trunk link, tags messages in the frame to go to correct VLAN network switch, and removes the tag and gives to correct computer. 
                * If no IP address has been given to VLAN on a switch, there are managment networks and inter-VLAN routing on switches once trunk link is established.
            * Tags in frames: VLANs create mini networks which are separate using VLAN tags in the frame as they traverse switches via a trunk link. 
                * `en` 
                * `show run` shows config of device. Shows enabled secret, domain name and hostname and turned on SSH version 2, and securied console port and securied link vty so port 0 to 4 aso that SSH is allowed.  
                * `show vlan` will show all currently configured VLANs on device. VLAN1 is defualt VLAN and is default, but avoid VLAN1 use 
                * To configure VLANs, have to move into config mode to create the capacity for the switch to use the VLANs, so need to create a VLAN identifer betweeen 2 and 4096 and exception 2,3,4,5: `vlan 10`
                * Then you can give it a name: `name LEFT` for VLAN on our left.
                * Create a second VLAN: `vlan 20` and name `name RIGHT` 
                * `exit`
                * `show vlan` will show all the vlans
                * The ports on the trunk link are called Tagged Ports.
                * Protocol on trunk link for Tagged Ports is 802.1Q 
            * Normal VLAN ID range:
                * Range is 1- 1005 
                * 1 is the dafault VLAN, but there are some dangers to using it
                * 1002 - 1005 are reserved for legacy protocols 
            * Extended VLAN ID range 
                * 1006 - 4096 on any given devices 
                * Stored in running-config
            * Assigning Ports to VLANs 
                * Changing vlans on the switch:  
                    * `config t` to show configuration on interface Fast Ethernet 0/0 
                    * `do show run int f0/1`
                    * Since no config, move into `int f0/1` and add configs
                    * change it to vland 10 by `switchport mode access` changes port from trunk port to access port. 
                    * `Switchport access vlan 10`
                    * `do show vlan` will show all the databases
                    * Seperate broadcast domains do not allow traffic to go from one to the other, except when there is a router, called inter-vlan routing
                    * `show mac address-table dynamic` shows the updated vlan ports, might have to re-ping the computer to force update to the table
                    * `config t`
                    * `switchport mode access`
                    * `switchport access vlan 10`
                    * `int f0/4`
                    * `switchport mode access vlan 20`
            * Trunking Vlans 
                * instead of configureing a port on two switches be a `access port` make it a  `trunk port` and specifiy what VLANs are allowed to traverse that link 
                * Tagged frames: When frames hit the switch port for the trunk port, the frame is modified to add a tag saying what VLAN the frame is on. The tag is removed at the other end of the trunk port, and the frame is forwared to the the specific vlan. Tagged frames are larger as they have the tag added. 
                * Untagged frames: on regular access ports on switches, and these are smaller as they do not have the extra tag added. 
                * Ways to add VLAN Trunk Protocols, as you have to tell the switch what protol you will use
                    * IEEE 802.1Q: Available cross platform 
                    * Cisco Inter-Switch Link ISL: Cisco only (very old)
                 * Configuring the trunk link 
                     * dynamic trunk protocol 
                     * Layer 2 switch ports have to be one or the other, access port or trunk port, one or the other, not both at same time. 
                     * Ports that have not been configured are needing to be assigned a mode: `switchport mode` with either Access, Dynamic or Trunk
                     * `switchport trunk allowed vlan 10,20` will allow to enter a list of vlan numbers that are allowed to propogate across the trunk link with a tag attached to the frame. 
                     * see status of trunk link, `show interfaces trunk`
                     * `show run int f0/24` will show the current config of the trunk link on swtich 1 so you can literally copy and paste it to the switch 1 config for port 24. 
                     * `show int trunk` shows that vlan already configured. because dynamic trunk protocol automatically figured out its a trunk port, which is dangerious becuase it is not fully configured, so always manually configure the port. dont allow more access on trunk link than we actually need. 
            * adding more devices to network  
                * `show mac address-table-dynamic` 
                * `show flash:` shows contense of flash memory of switch. `.bin.` is OS, and `vlan.dat` is vlan database,where we store ` through 1005, and anything higher than 1005 is stored in `running.config` file.  
                * VTP mode is `vlan trunking protocol`, relates to Spanning Tree Protocol and EtherChannel`
                * `vtp mode transparent`: 
                * `vlan 2000`
                * give it a name `name extended`
                * `show vlan` will show all the vlans and `show run` shows extended vlan 2000, and is only stored in running config and is not in the vlan database. 
            * Capturing Tagged frames in a network tap:  
                * using wireshark, record and show in search for icmp 
                * When you have a trunk port, going to send and receive tagged frames.
                * When you have an access port, send and receive untagged frames.
            * InterVLAN Routing:  
                * Broadcast Domain with two switches and networks, needs a router to communicate, you can do this by configuring a switch and router. Ports on router are normal router ports, but the ports on switch need to be configured to be access ports on the switch. The connection from switch to router should be connected as a trunk link that goes up to one port on the router.  
                * Router on a Stick: Router has ability to turn into trunk link to read tag on frame that arrives on router, as well as add a tag to frame as it leaves the router.
                    * Sub interfaces that is under the main interface. So for port F0/0 is: 
| port    | IP            |
| F0/0.10 | 10.0.0.1/24   |
| F0/0.20 | 172.16.0.1/24 |
                  * show ip int brief: shows all interfaces 
                  * `no shutdown` makes the interface not shut down, makes router active 
                  * need to configure sub interfaces to read the frame tag that is added into the frame, `int f0/0.10` and then choose what encapsulation to use, and on cysco its `dot1q` so its `encapsulation dot1Q` and then specify what is the expected vlan is expected to be arriving on that interface of F0/0.10 10, so its `encapsulation dot1Q 10.0.0.1 255.255.255.0` and then add `no shutdown` and then do the other interface of FastEthernet0/0.20 with `int f0/0.20` and then `encapsulation dot1Q 20`, and then `ip address 172.16.0.1 255.255.255.0` and then `no shut` and then save the config with `copy run start`
                  * 
            * Layer 3 Switch
                *  Combining Router and Switch in one device, but still need to think of it as a router to configure and a swtich to configure.
                    * distinction between MAC addresses and VLANa at layer 2 and IP addresses and packets at layer 3.  
                * Cisco Catalysts switches 
                    * Layer 2: 2950, 2960  
                    * Layer 3: 3560, 2750, 2850, 4500, 6500, 6800 among others. 
                * Configuring layer 3 switch 
                    * Switched Virtual Interfaces SVI: Layer 3 interface but does not have a physical port associated with it.  
                    * Creating Interface VLAN 10 and Interface VLAN 20, are layer 3 interfaces and can assign IP addresses to those layer 3 interfaces. Use rollover cable plugged into the console port of layer 3 switch. 
                    * `show version` shows what kind of switch it is. 
                    * `config t` to configure, when a new layer 3 switch is turned on, its not initally a layer 3 switch, make it layer 3 by issueing command `ip routing`
                    * create vlan 10 `int vlan 10`
                    * `ip address 10.0.0.1 255.255.255.0`
                    * `no shut` 
                    * `exit`
                    * create vlan 20: `int vlan 20`
                    * `ip address 172.16.0.1 255.255.255.0` 
                    * `no shut` 
                    * `exit`
                    * `show ip route` shows the network and gateway 
                    * `show run` you can see interface set up switchport, meaning its a layer 2 port, cannot configure layer three, unless you tell the interface to be a layer3 switchport
                * Troubleshooting vlans: 
                    * Missing VLANS on switch 1 and switch 2: `show vlan` to see what is active, and if they are not assigned to any ports you will not see anything in the `show int trun` and to add you need to go to the port `switchport mode access` and then `switchport access vlan10` and then `int f0/2` and then `switchport mode access vlan 20` and then `exit`. then configure trunk port: `int f0/10` and `switchport mode trunk` and then `switchport trunk allowed vlan 10,20` and then to verify it worked, `show vlan` to see vlan and ports, and `show interface trunk` see ports f0/10 is configured as a trunk port. When your configuring the second switch, and you do `show vlans` and not see anything excpt for defualt, and then you go into configure `config t`, `switchport mode trunk`, `switchport trunk allowed vlan 10,20`, `exit`, and then check in `show int trunk` to see what ports are assinged to what trunks, but in `show vlan` you dont see the vlans configured...just leave the vlan database blank and not add is fine, so now configure the port `config t`, int `g0/1`, `switchport mode trunk`, `switchport trunk allowed vlan 10,20`, `exit`, `exit`, and then `show int trunk`you will now see the trunk link.  
                    * Missing VLANs on Layer 3 Switch: `default interface f0/1` to remove any preconfigured settings for the port or use `default interface range f0/2 - 4`, and `do show run` willl show all the interfaces are default.  `show IP route` will show vlans that are set. `show runs` will show commands to make the layer 3 switch behave like a layer 3 switch. `ip routing` will show all ip routes, but command `no ip routing` will clear default gateway, and nothing in the routing table, it means the layer 3 switch is currently configured to only work as a layer 2 switch, is a indication that IP routing is not enabled. to make it layer 3 switch do routing, `config t`, `ip routing`, `do show ip route`, it will show full routing. Configure g0/1 as trunk link: `int g0/1`, `switchport mode trunk` will show that the trunk enxapsulation is set to auto... so you need to do it manually, `switchport trunk encapsulation dot1q` and tells switchport not to set its encapsulation for the trunk link to auto but exclusively use the 802.1q protocol. so now you can do `switchport mode trunk` just fine, and `switchport trunk allowed vlan 10,20`, and then `exit` and do `show int trunk` to see all vlans and and ports
                    * Issues with missing vlans: `show CDP neighbors` will shows what connections are enabled. To add a vlan to a switch: `config t`, `vlan 10`, exit, `do show int vlan` to see what is active on the trunk. But Spanning tree protocol, prevents in layer 2, STP waits 30 seconds after changes to ports to allow that port moves from unknown network topology state into one where the switch is confident about the topology and brings up the port. To add another vlan to switch, login to it, and `vlan 20`, `exit`, and wait a bit and then you will seee it on `show int trunk`. If a switch does not have any access ports on it, Trunk ports dont care if VLAN is in the database or not. If its not in the database its not going to allow that VLAN to pass traffic though the switch, but when we configure the trunk links, it doesnt automatically add VLANs to the database. But if you go into `config t` and `int f0/19` and `switchport mode access` and add a new device to a vlan 40, `switchport access vlan 40` since we are assigning a new devices to a specific access port, switch automatically creates vlan 40 in the databas and `switchport mode access` and add a new device to a vlan 40, `switchport access vlan 40` since we are assigning a new devices to a specific access port, switch automatically creates vlan 40 in the database, ` do show vlan` you will see that VLAN 40 was added to database to `fa0/19`. Howver when you add VLANs to trunk links, it does automatically add VLANs to VLAN database. 
                    * Missing VLANS: TLDR: VLANs get added to database automatically when you assign them to an access port, and they do not get added automatically to the vlan when you assig them to the trunk port
                    * Misconfigured Trunk Ports: 
                        1. Workstattion can ping one default gateway but not another VLAN. See the issue when you forgot to add VLANs 10 and 20 to Switch2. 
                        2. `show vlan` to see if vlans are correctly configured and assigned to correct ports.
                        3. `show interface trunk` to see if vlans 10 and 20 are allowed in that trunk link and that they are currently active in the management domain and in a spannig tree forward state. 
                        4. when you find a misconfigured trunk link, to fix it is `config t`, `int g0/1` and then `switchport trunk allowed vlan 10,20`
                    * Changing the SVI state 
                        *  `show ip int bri` shows brief summary of vlans and ip addresses 
                        * You can go into config port and pick a port `int f0/11` a port that is not being used, `switchport mode access vlan 20`, but then activate the interface so just plug in anything to that port, while the switch goes though spanning tree, and we didnt have to add this to the trunk link. so all that was done was interface f0/11 changed state to up and moved VLAN interface VLAN 20 to up state as well. 
                    * adding another VLAN and cut your arm off. 
                        * SSH into a switch, to cause a problem to break connection.  
                        * create new vlan: `show vlan`, `show run int f0/3`, `name newVLAN`, `exit`
                        * cut off arm: `do show int trunk`, and you see all the vlans and ports and now going to add another vlan, so `switchport trunk allowed vlan 10,20,30` but to cut off arm it would be `switchport trunk allowed vlan 30`
                        * To re-add arm: `switchport trunk allow vlan add 10`
                        * To delete a arm: `switchport trunk allowed vlan remove 30`
                        * DO NOT PANIC: grab your laptop, grap rollover cable, tell boss where your going and drive over to the layer 3 switch. Other thing you can do if the config is saved on the device remotly, is have someone at the remote location unplug the power cable from the switch, plug it back in again and then when the switch reboots it will have the old config on it where we change the trunk port to have the wrong VLAN
                        * To re-add arm when connected via rollover cable: `show int trunk` and `config t` and `switchport trunk allowed vlan add 10,20` and `do show int trunk` and `exit` 
                        * add vlan 30 config `show ip route` to see no 30 and then `conf t` and `int vlan 30`, and `ip address 192.168.0.1 255.255.255.0` and `no shut` and `exit`
                    * Configure multiple interfaces: 
                        * `do show int trunk` to show what is configred on the switch
                        * `int range f0/12 , g0/1`  so it will configure both interaces 
                        * `switchport trunk allowed vlan add 30` which will add vlan to the two interfaces
                        * ping continuously `ping 10.0.0.1 -t` 
                    * SSH into layer 3 switch 
                        * use PUTTY, and as long as you can ping the IP you can SSH 
                        * `do show int trunk` to see what is interfaced
                        * and if you do not see vlan 30 you add it by typing `vlan 30` and give it a name  `newVLAN` and exit `exit`
                    * SSH into layer 2 switch 
                        * If you dont have any IP addresses you cannot SSH, make sure you  have IP addresses configured on the device, check all IPs `show ip int bri` 
                        * configure IP address on switch, via routed network or via same VLAN we are connected to. Choose one VLAN (production vlan) or vlan where we always put IP address for the switch. Or create a seperate VLAN like `vlan 99` that is routed completely uniquely, basically its own broadcast domain, and use that one VLAN to assign IP addresses to all of the layer 2 devices, that way all layer 2 devices are always configured via its own seperate VLAN. Put access control lists to that VLAN to limit what traffic comes in and out of there.  
                        * Go on switch 1 and switch 2 and simply create `int vlan 10` and give `ip address: 10.0.0.101 255.255.255.0` and `no shut` and `exit`:w
                        * 
                * wrong vlan on wrong interface 
                    * verify configuration of device, or else you cannot pass traffic, so type in the switch `do show vlan` 
            * Storage on switch: 
                * Stored in flash:/vland.dat 
                * Putty: `show mac address-table`
                * shows all MAC address and their ports  
                * F0/0 means Fast Ethernet, example: "Fa0/3" is Port 3 
                * Enter configuration mode: `configure t`
                * Configuration command: `#int f0/3`
                * Change VLAN port: `#switchport access VLAN 20` 
                * Example: 
| Port | MAC | VLAN ID |
|------|-----|---------|
| 1    | 6E  | 1       |
| 2    | B3  | 2       |
| 3    | 3F  | 2       |
| 4    | DF  | 2       |
| 5    | C2  | 1       |
| 6    | A7  | 1       |

            * Uses: Example separating VOIP traffic of phone Voice VLAN from regular Data VLAN for computer data.
             
        1. Port Mirroring * Takes all the traffic and mirrors the traffic from the switch to another computer so you can analyze the traffic
        2. Power over Ethernet PoE
            * power devices over the Ethernet line  
            * 802.3af (2003 15.4 watts DC Power)
            * 802.3at (2009 25.5 watts DC Power POE+)
    * IEEE 802.3
        * Protol can travel over
            * Copper 
                * 10Base5 "frozen garden hose" 
                * 10Base2
                * 10BaseT
                * 100BaseT
                * 1000BaseT
            * Fiber 
                * 1000Base-SX
                * 1000Base-LX 
                * 10GBase-SR
                * 10GBase-LR
    * Fiber Optics
        1. Cabling
            * Single Mode
                * Very thin, laser passes though for long distances
                * Usually Yellow jacket/insulation
            * Multi Mode
                * Thicker glass, cheaper to make, use in applications which are shorter, laser light bounces around in fiber which reduces single strength. 
                * Usually has Orange or Aqua jacket/insulation
        2. NIC Lasers and Fiber Optic
| Mode        | Laser Type | Wavelength  | Fiber       | Distance |
|-------------|------------|-------------|-------------|----------|
| Single Mode | LX         | 1270-1610nm | Single Mode | 70 km    |
| Multi Mode  | SX         | 770-860 nm  | Multi Mode  | 1/2-1km  |
        1. Optical Network Interface Cards (Optics, lasers)
            * GBIC (old)
            * SFP (small form pluggable)
            * Plug into switch, server or other network device
            * QSFP and QSF+ (newer form of NIC cards, Q means Quad.)
            * Connectors( ST Connector, SC Connector, LC Connector, MTRJ Connector, FC Connector) 
            * Patch Panel, terminate in one spot then use shorter piece of fiber to plug into the patch panel, to plug in to the SFP into the gear.
        2. Connections: Angled physical contact (APC) or Ultra Physical Contact (UPC) 
        3. Operation: light and data flow one way in one fiber and the other way, called Simplex Pair, with lasers and eyes on both ends. But can be one fiber, called Bidirectional with different wavelengths of light via WDM (Wave division Multiplexing). WDM works by using three different kind of UV lasers shining into a prism and create a single stream of light, and then another prism breaking it out into each eye. 
        4. Wave Division Multiplexing
            * coarse wave division multiplexing, CWDM, and is passive. 
            * Dense Wave Division Multiplexing, Powered, longer distance, more wavelengths.
        5. Fiber Ethernet Designation and Cabling Type  
| 100BaseFX                             | Multi Mode Fiber  |
| 100BaseSF                             | Multi Mode Fiber  |
| 1000BaseSX                            | Multi Mode Fiber  |
| 1000BaseLX                            | Single Mode Fiber |
| 10GBaseSR Aqua mostly but some orange | Multi Mode Fiber  |
| 10GBaseLR                             | Single Mode Fiber |
        
        
        
        
    * 66 Block telephone and 110 block, bigger version of 66 block, use punch down tool, Krone, 110, BIX
* Protocols:
	- Ethernet
-------------------------------
= Encapsulation and the OSI Model =
1. Application Layer breaks up data into Transport Layer
    - Segment: a chunk of data with a transport lawyer header, we put in a source and destination port number, and this port number is going to be directly related to an application layer protocol 
2. Transport layer becomes the payload for the Network Layer which is called a Packet
3. Network Layer packet goes into the Data Link Layer payload into a Frame
    - Frame: a chunk of data with a Data Link layer header
        -- Ethernet MTU(Maximum Transmission Unit) is 1500 Bytes Including Packet Header and Segment header
4. Link Layer sends the Frame down to the Physical Layer which breaks it into ones and zeros, and then that is converted into a signal

---------------------------
= Routing IP Traffic =
1. Require Physical, Data Link (traffic from one device to another) and Network layer (Internet Layer with routers to move traffic from one segment of the network to another, and if  Layer 2 Bridge like a cable Modem that converts Ethernet frames and puts it in a DOCSIS frame (DOCSIS is protocol that cable modem uses to communicate to ISP)
2. IP Packet
    * IP Packet contains:
        * Source IP Address
        * Destination IP Address
        * TTL (counter every time it goes through a router it deceases). 
        * Other
        * ICMP (Ping uses ICMP protocol)
    * Layer 2 Frame
        * Destination MAC Address
        * Source MAC Address
        * Layer 3 Protocol

---------------------------
= Binary Counting =

| 128s | 64s | 32s | 16s | 8s | 4s | 2s | 1s |
|------|-----|-----|-----|----|----|----|----|
| 1    | 1   | 0   | 0   | 0  | 0  | 0  | 0  |

Multiple placeholder by placeholder itself. Example: 11000000 is equal t 128 + 64 = 192 

= Converting Decimal to Binary =

| 128s | 64s | 32s | 16s | 8s | 4s | 2s | 1s |

Example: 210

| 128s        | 64s      | 32s | 16s     | 8s | 4s | 2s    | 1s |
|-------------|----------|-----|---------|----|----|-------|----|
| YES         | Yes      | No  | Yes     | No | No | Yes   | No |
| 210-128= 82 | 82-64=18 |     | 18-16=2 |    |    | 2-2=0 |    |
| 1           | 1        | 0   | 1       | 0  | 0  | 1     | 0  |

Example: 47 

| 128s | 64s | 32s      | 16s | 8s     | 4s    | 2s    | 1s    |
|------|-----|----------|-----|--------|-------|-------|-------|
| No   | No  | Yes      | No  | Yes    | Yes   | Yes   | Yes   |
|      |     | 47-32=15 |     | 15-8=7 | 7-4=3 | 3-2=1 | 1-1=0 |
| 0    | 0   | 1        | 0   | 1      | 1     | 1     | 1     |


= Hexadecimal =

| Binary | Decimal | Hexadecimal |
|--------|---------|--------------|
| 0000   | 0       | 0            |
| 0001   | 1       | 1            |
| 0010   | 2       | 2            |
| 0011   | 3       | 3            |
| 0100   | 4       | 4            |
| 0101   | 5       | 5            |
| 0110   | 6       | 6            |
| 0111   | 7       | 7            |
| 1000   | 8       | 8            |
| 1001   | 9       | 9            |
| 1010   | 10      | A            |
| 1011   | 11      | B            |
| 1100   | 12      | C            |
| 1101   | 13      | D            |
| 1110   | 14      | E            |
| 1111   | 15      | F            |
| 10000  | 16      | 10           |

=IP Addressing=

* IP address are in the Network Layer, layer 3:
| Network Portion | Host Portion (specific device on network |
| 0203.0.113       | .10                                      |
Example:  
| Street Address  | Zip Code |
|-----------------|----------|
| 123 Main Street | 60787    |

== IPv4 ==
* IP addresses are really 32 bits long, just put it in decimal to read easier. 

== Classful vs Classless addressing ==
* _We don't use Classful  anymore!_ Because we ran out of IP ranges as we didn't predict speed of growth of internet.
*  Classful Addressing (~1995 and prior)
| Cast            | Class | IP Range  | IP Range Continued | Bits in subnet mask                                 |
|-----------------|-------|-----------|--------------------|-----------------------------------------------------|
| Unicast         | A     | 0.0.0.0   | 127.255.255.255    | 8 bits in network portion, 24 bits in host portion |
| Unicast         | B     | 128.0.0.0 | 191.255.255.255    | 16 bits in network, 16 in host                      |
| Unicast         | C     | 192.0.0.0 | 223.255.255.255    | 24 bits in network, 8 in host                       |
| Multicast       | D     | 224.0.0.0 | 239.255.255.255    | All bits in the network portion                     |
| Experimental    | E     | 240.0.0.0 | 255.255.255.255    | We don't use this anymore!                           |
* Classful Addressing  Portions
| Network Portion | Network Portion | Network Portion | Host Portion |
|-----------------|-----------------|-----------------|--------------|
| .               | .               | .               | .            |
| 10              | 0               | 10              | 10           |
| 00001010        | 0000000         | 00001010        | 000001010    |



* Classless Addressing (~1995 to present)
1.  Subnet mask: Network Portion and Host Portion 
| Network Portion | Network Portion | Network Portion | Host Portion |
|-----------------|-----------------|-----------------|--------------|
| .               | .               | .               | .            |
| 203             | 0               | 113             | 10           |
| 11001011        | 00000000        | 01110001        | 00001010     |
| 11111111        | 11111111        | 11111111        | 00000000     |
| 255             | 255             | 255             | 0            |
1. Subnet Mask
| Network Portion | Host Portion | Host Portion | Host Portion |
|-----------------|--------------|--------------|--------------|
| .               | .            | .            | .            |
| 10              | 0            | 0            | 10           |
| 11001011        | 00000000     | 000000000    | 00000000     |
| 11111111        | 00000000     | 00000000     | 00000000     |
| 255             | 0            | 0            | 0            |
1. Subnet Mask does not have to fall within the 8-bit boundary
| 10       | 0        | 0        | 10       |
| 00001010 | 00000000 | 00000000 | 00001010 |
| 11111111 | 11111111 | 11110000 | 00000000 |
| 255      | 255      | 240      | 0        |

== Address Types ==
* The secret is making sure that we use subnet mask simply to identify which portion of the IP address is the host portion, a then when we are looking to see if its network, broadcast or host address we are looking at IP address, not the subnet mask. Subnet mask is just telling us where to look in the IP address for all Zeros (network Address), all ones (Broadcast), or anything except zeros and ones (Host).


1. _Network Address_:
    - Identifier for a group of devices
    - "Network Prefix"
    - Have all Zeros in the Host portion. 
| Network Portion | Network Portion | Network Portion | Host Portion |
|-----------------|-----------------|-----------------|--------------|
| .               | .               | .               | .            |
| 203             | 0               | 113             | 10           |
| 11001011        | 00000000        | 01110001        | 00001010     |
| 11111111        | 11111111        | 11111111        | 00000000     |
| 255             | 255             | 255             | 0            |


1. _Broadcast Address_: 
    - Identifier for all devices on a network.
    - It allows a sender to send a message to every single device on the network. 
    - Have all 1's in host portion
| Network Portion | Network Portion | Network Portion | Host Portion |
|-----------------|-----------------|-----------------|--------------|
| .               | .               | .               | .            |
| 203             | 0               | 113             | 255          |
| 11001011        | 00000000        | 01110001        | 11111111     |
| 11111111        | 11111111        | 11111111        | 00000000     |
| 255             | 255             | 255             | 0            |


1. _Host Address_: 
    - Identifies unique device on a network. 
    - Identifies a unique device on the network, combo of network portion of address and host portion of address, where the host portion isn't identifying a network address nor the broadcast.  
    - Anything EXCEPT all binary 0's or 1's
| Network Portion | Network Portion | Network Portion | Host Portion |
|-----------------|-----------------|-----------------|--------------|
| .               | .               | .               | .            |
| 203             | 0               | 113             | 10           |
| 11001011        | 00000000        | 01110001        | 00001010     |
| 11111111        | 11111111        | 11111111        | 00000000     |
| 255             | 255             | 255             | 0            |


_Examples_
- 203.0.113.55 and 255.255.255.0 is a HOST address
- 192.0.168.10 and 255.255.255.0

== IP Routing ==
* cannot ARP for destination address because its not on our own local network because ARP messages cannot be sent through a router. ARP messages cannot be sent through a router. 
* Consult Routing table on PC. To reach Local network and a route for everything else, including default gateway
* Static Routing: Manually adding networks that Routers do not know about, problem is that it does not change with network changes.  
* Dynamic Routing: will use a routing proton to build the routing tables themselves  
    * RIP proton: is not used anymore. 
    * EIGRP: Cisco's routing proton called Enhanced Interior Gateway Routing Protocol 
    * OSPF: Open Shortest Path First, popular with enterprise 
    * BGP: Border Gateway Protocol, used on public internet to move different business and internet service providers, more like a scripting language with parameters that we can configure. 
* Administrative Distance: the higher the number the lower the priority of routing protocol, determines which route is good one to add to the routing table.

== Tracert ==
* tracert 8.8.8.8 -d will give only IP addresses and no DNS lookups. 

=CIDER Classless Inter-Domain Routing=
* Length of the Network Prefix in bits
| IP Address             | 203.0.113.                 | 10       |     |
| Subnet Mask            | 255.255.255.               | 0        |     |
| Network Prefix 24 bits | 11001011 00000000 01110001 | 00001010 |     |
| Network Prefix 24 bits | 11111111 11111111 11111111 | 00000000 |     |
| CIDER Notation         | 203.0.113.                 | 10       | /24 |

=Private IP Addresses=
* Before 1994 there were no Private IP Addresses, just public IP addresses. Running out of IP addresses, changed to classless addressing (gave us subnet mask), then introduced private IP ranges. Not be routed publicly on the internet.  
* RFC 1918:
| Class | Private IP address range |                 | CIDER |   |   |
|-------|--------------------------|-----------------|-------|---|---|
| A     | 10.0.0.0                 | 10.255.255.255  | /8    |   |   |
| B     | 172.16.0.0               | 172.31.255.255  | /12   |   |   |
| C     | 192.168.0.0              | 192.168.255.255 | /16   |   |   |
|       |                          |                 |       |   |   |
* APIPA Automatic Private IP Addressing: EX 169.154.0.0/16 and is developed by Microsoft and red flag as someone doesn't know what they are doing and should not be used. Or something is wrong. 
* Loopback IP: Ex. 127.0.0.1 and messages sent to this never leave your computer and just a way to make sure IP is working on a workstation. |
* If network portion of mask is different you will need a router/default gateway to communicate between the two computers. 

=Subletting Basics=

Network: 10.0.0.0/8
Range: 10.0.0.0 - 10.255.255.255
Network: 00001010 | 00000000 00000000 00000000
Broadcast: 00001010 | 11111111 11111111 11111111
    11111111 00000000 00000000 00000000
    
Lets find a host address on this network. 
Host: 00001010 00000000 00001010 00000000

Change it to a /24 network: 
10.0.10.0/24
Network: 00001010 00000000 00010010 | 00000000
Broadcast: 00001010 | 00000000 00001010 | 11111111
So this network now has 254 different hosts. Zero to 255 is 256 unique address but but remove network address which you cant apply to a device and one for the broadcast address which you cant apply to a device. 
So now the network is 10.0.10.0 - 10.0.10.255
 
==Variable Length Subnet Masking VLSM==
 Its a way to break up /24 mask to be other kinds of masks:
| 10.0.0.0/8   |
|--------------|
| 10.0.10.0/24 |
| 10.0.16.0/22 |
| 10.1.0.0/16  |
| 10.2.0.0/30  |
Cant just randomly pick IP addresses and masks and apply it to networks. Do have to make sure there is no overlap between subnets.

=IPv6=

==IPV6 Address Components==
* Bit is 0 or 1
* 4 Bits is a Nibble and is made of of 0 or 1s, can be written as a hexadecimal value like: 0xA 
* Two Nibbles is 8 bits: 1001 0011
* Eight bits in a byte: 11010111
* Two nibbles is a byte and a byte is 8 bits. Hexadecimal of 0xA8 is one byte worth. 
* Two bytes is a hextet: 1001001110010011 and is in Hexadecimal 0xA8C5 which is equivalent to 16 bites. 

==IPv4 Address Size==
* 32 bits long = 4 octets
* 192.168.10.10 or in binary: 11000000 1010100 00001010 00001010 
 
==IPv6 Addresses==
* 128 bits long = 32 nibbles = 8 hextets 
* 2001:0DB8:0002:008D:0000:00A5:52F5
* To make it easier to read:
    * Eliminate Leading 0s
    * 2001:0DB8:0002:008D:0000:00A5:52F5 or 2001:DB8:2:8D:0:0:A5:52F5 or 2001:DB8:2:8D:0:0:A5:52F5
* just count 4 hextets, and that is 64 bits
* use /64 subnet for everything, except for routers. 
| Network portion 64 bits | Interface Identifier 64 bits |
| 2001:0DB8:0002:008D:    | 0000:00A5:52F5               |

==IPv6 Address Operation==
* IPv6 computers need a router unless they have the same subnet in which they can use IPv6 Link Local Addresses for local communication via a switch, otherwise on the internet they need IPv6 Unicast address, used for global communication (ie devices on the internet).
    * Link Local Address is: FE80::/10  
    * Loopback address: ::1/128
    * 
* IPv6 sends out periodic messages to find out who is on the network using IPv6
* Multicast Address
    * one to many communication 
* Anycast Address
    * One IPv6 address to many devices
    * Used for Load balancing 
* Duel Stack: running IPv4 and IPv6 Protocols on a computer
* There are no private IPv6 addresses, all are public, except for a documentation

==IPv6 Address Types==


==IPv6 Address Acquisitions==
* You can always manually configure the network
* SLAAC Stateless Address Auto-Configuration 
    * Does not exhist in IPv4
    * Router in the network/default gateway, has IP address of 2001:DB8:4:A::1/64 and every so often it sends out a Router Advertisement on network 2001:DB8:4:A::/64 as a RA, so any other device can know what the network is and join. 
    * Depending on the operating system: 
        * It will configure (Windows Random 64 bit interface identifier), so the computer will create two IPv6 (Manual IPv6 and automatically generated Link Local IPv6 address). 
        * Mac and Linux will use Modified EUI-64 address and take MAC address (MAC is layer 2) of network interface card, and split it in to middle of the MAC address and add FF:FE and this will make the address 64 bits long. Ex: 000C:29FF:FEFC:70A5. Then you take the first two bits and convert them into binary, Ex: 00 to 0000 0000 and then you take the 7th bit in that last and flip it to either 0 or 1, then convert it back to hexadecimal and now that becomes the interface identifier. 
* Once the router sends out the Router Advertisement, then client configures message back to rest of the network saying that the client computer is on the network now , this is my IPv6 address, and since the address is configured randomly, double check to make sure nobody else has it. 

==IPv6 DHCP==
* The DHCP server will help configure the IPv6 address, but router will need to turn off SLAAC
* Allows for a lot more control, allows for shorter addresses, esp in internal networks

==IPv6 Tunneling==
* Main problem in IPv6 is that not everyone supports it. 
* Figure out a way to get IPv6 traffic across the IPv4 internet, and they are not backwards compatible
* Build a tunnel: mechanism to take IPv6 message/packet and put it inside a IPv4 packet, and then rebuilt as a IPv6 packet

=Network Services=

==Network Address Translation==
* NAT is a Network Layer function (layer 3)
* Router stores the source/client IP address in a table, with other parameters, and replace the source IP with that of the router, which is a public routable IP address. The packet goes to the desistination on the internet, and comes back to router which translates/swapps out address in packets in order to make those packets routable on internet. 
* In home networks its called Port Address Translation. 

==Dynamic Host Configuration Protocol==
* DHCP is Application Protocal, layer 7
* DHCP typically needs DHCP server: 
    * DHCP server hands out IP addresses for entire organization. 
    * DHCP Scope
        * Network: 10.0.0.0/24
        * Excluded: 10.0.0.0.10 - 10.0.0.99 (for servers or printers or things that need static IP addresses)
        * Gateway: 10.0.0.1
        * DNS: 8.8.8.8
        * Lease Time: 10,080 min (means how many days it needs before requesting a new one)
    * DHCP Binding database 
        * A Table that lists out the addresses that are handed out per device
        * IP address
        * Default Gateway
        * DNS
        * 
    * IP Helper Address on a router, found on larger companies espically with more than one subnet that were working with, and when DHCP server is somewhere on network, and any router on network will have IP Helper Address for clients sending out DHCP discover message, the message hits the router and router knows where to forward it to the DHCP server's own IP address. this is so you can have a single DHCP server for all subnets on network.

==Domain Name System==
* DNS is Application Layer 7 protocal, can use UDP or TCP depending on what your trying to accomplish.
* URL is Uniform Resource Locator (www.nasa)
* TLD is Top Level Domain (.ORG)
* Second Level Domain nasa
* Third Level Domain also called Hostname (WWW)
* DNS is updated via DHCP
    * Forward Lookup
    * Reverse Lookup
        * Pinter Record PTR
* Root Domain Server
* Records
    * A: IPv4 record
    * AAAA: IPv6 Record
    * CNAME: Canonical Name Record, record where we can set it up in DNS and theres no IP address associated with it.
    * MX: Mail Exchange Record
    * NS: Nameserver/ Identifies Authorative Name Server
    * PTR: Pointer Record for reverse DNS, needed for Reverse DNS to work
    * SRV: Service Record, specifies IP address and Port number
    * TXT: additional info 

==Network Toplogies and Types==
* Bus
    * Old tech, run on 10Base5(Thicknet) and 10Base2(Thinnet) hardware
    * Where all computers are connexted by a wire
* Ring
    * We dont use anymore, devices connected in ring via twisted pair, coax or fiber
* Star
    * where every divice has cable running to central location like a switch
* Hybrid
    * Peer to Peer, direct communication with each other, both server and client for data
    * Client Server Network

==Blank Area Networks==
===Network Classifications===
* LAN
    * Local Area Network: devices connected to centeral Switch
    * Needs Switches (Layer 2)
* WLAN
    * Wireless Local Network
* WAN
    * Take two LANS over wide distance
    * Needs Routers (Layer 3)
* SAN
    * Storage Area Network: Storage in a server
* CAN: Campus Area Network
* MAN: Metropolitan Area Network
* PAN: Personal Area Network, your own connected devices, smart phone and watches

==WAN Technologies==
* Leased Lines
    * Copper T1
* Fiber Optics
    * 40 GB or more
    * Dark Fiber (Leased fiber)
    * Metro Ethernet (Use fiber, but service will have lazers, and you can control stuff, but not as much as Dark Fiber). Many kinds of data bandwith, 10Mb, 100Mb, 1Gb, 10Gb, 40Gb.k
        1. Multiprotocol Lable Switching MPLS: used to keep data of other groups seperate, and allow multiple VLANs (Way of seperating netork traffic to be organized into efficient and secure networks). 
    * Optical WAN
* Internet
    * DLS
    * Fiber Optic
    * Satellite
    * Cable
* T1 Link (E1 in Europe)
    * Bell Labs
    * 24 Channels @ 64k each + framing bit = 1.544Mbps
    * Telco Network --> to Demarcation Point/Smart Jack --> CSU/DSU (Cabele service unit/data service unit) or router. Its interface between T1 version of communication and the communcation to router
    * Demarcation Point is point in network that divides which between telephone companys equipment and which is the customers equipment
* T3 (E3)
    * Numorous T1s bundled together, 44.736Mbps
* ISDN 
    * Old school connection
* Prinary Rate Interface PRI
    * SIP trunk alternate, VOIP for POTS network, or use ISDN with a PRI
* SDWAN
    * Software Defined LANs
    * Tunnels for communication (mGRE) Multipoint Generic Routing Encapsulation. 
    * Server sets up routing paths
==Virtualed Networks==
* Virtualize datacenters
* Servers, hooked up a SAN, so Processor, Memory, Network Interface and allow all virtual servers to run on one server. More efficiant with processor utilization and memory utilization. Less power, physical power, electricity.
* Networking connection to physical servers requries lots of bandwith on a special secure network VLAN, with virtualized network hardware
* Redundant servers with redundant virtual machines
* Load balancer: can be virtual with virtual IP address VIP
* Hypervisor runs all the virtual servers, data network and virtual servers, network function virtualization.

= Network Monitoring =
* Sends out messages asking status of all the different systems and allows us to alert when a device goes down, or a link goes down, or something that is broken of the network
    1. performance metrics and sensors
    2. interface statistics 
    3. interface erros or alerts
    4. environmental factors/sensors
    5. device uptime/downtime (UPS fails) 
* Network Monitor server, Observium Server   
    1. Devices, Ports, Statuses, Map, uptime, processor spikes and memory in traffic, traffic though switch, status of ports and VLAN traffic, speed and duplex, packets (broadcast is ARP, multicast other traffic, VOIP seeing latency and jitter, temperature, errors 
    2. Event Logs: interface changes
    3. Layer 2 Errors
        * Giant: Means Ethernet frame exceeds the MTU, bigger than 1500 bytes by default. Can enable Jumbo Frames, eleminate giants. Giants are a message that is too large, switch will throw away.
        * Runt: message that is too tiny, cant be processed and show up as error.
        * Encapsulation error: expecting non-tagged frame and it showed up as tagged frame. 
        * CRC Error: cyclical redundancy check that is part of the frame header itself. so the CRC algorithm pushes out a 32 bit value, attach it to the frame in the FCS field and send it. Frame could be tampered with, or looses data as it travels near a florsient lite, and then throw frame away and let other protocls figure out that the frame needs to be re-sent. 
* Facilities Monitoring: check where we have places where we have networking gear
    * building room temperature
    * humidity
    * electrical status
    * floods sensors



== Collecting Network Monitoring Data ==
* Baselining: highlights traffic, processor utilization, memory, interface 
* SNMP Simple Network Management Protocol 
    1. Observium server uses SNMO to collect data about the devices
    2. SNMP Manager and SNMP Agent
        * Devices on the network
        * Configure devices with Community String and the IP address of the SNMP server/Manager to all for them to talk with each other. 
        * Management Information Base MIB: database of device properties. 
        * Object Identifiers OID or MIB Number: number device is programmed with, so SNMP server knows about all devices. 
        * SNMPv2c: community string to authenticate, read only or read write access with a community string, dangerious if compromised. Added bulk data collection mechanism. 
        * SNMPv3: SNMP which is encrypted, SNMP View limits amount of OID numbers,authenticates devices and provides different levels of security. Set up username of certain MIBs, encripted 
    3. TRAP 
        * tells when a device goes down or comes back up, send message to SNMP manager saying interface went down. report that to software and report that to admin. 
    4. WALK the tree: 
        * When configuring Observium server, manually add each device on network, and configure all devices with SNMP config info. Walk the tree is SNMP manager sends out request to all devices to send back everything to report. 
    5. Netflow
        * Collecting info about whats happening on the devices via a snapshop.
            * Source and Destination IP addresses, source and destination ports, other info in frame, packet and segment headers, and sends it to NetFlow server. 
        * Good for baselining, could detetect a spike in SSH traffic on network 
    6. Syslog
        *  Uses as much as SNMP in order to collect critical info of what happening on network
        * in Observium server case its acutally Observium can be syslog server and SNMP server, and alot of logging soliutions may incorprorate it, or see other centrialized logging system  
        * Syslog Server: requires NTP network time protocol or else does not work, so events get recoreded in correct order.   
        * Syslog protocol is application layer protocol when event happens on device, it sends message to syslog server, syslog server, puts message in database so human can look at it. 
        * Trace back events in network: Traffic Logs (how much traffic is flowing in and out similar to NetFlow), Audit Logs (who made a change, username and commands made), Syslog (stuff that happens on the device, set differnet logging levels). 
        * Logging Levels, programmed with OS itself, use logging levels to tell syslog server to alert Admin:
| Level | Severity      | Meaning                                                                                                           |
| ----- | -----         | ----                                                                                                              |
| 0     | Emergency     | EX: processor reached 100% and overheating                                                                        |
| 1     | Alert         | EX: primary connection went down                                                                                  |
| 2     | Critical      | EX: Failure in some service inside of the device                                                                  |
| 3     | Error         | EX: Port receved bad message and went into error disabled state                                                   |
| 4     | Warning       | EX: running out of memery                                                                                         |
| 5     | Notice        | EX: Informational message.                                                                                        |
| 6     | Informational |                                                                                                                   |
| 7     | Debug         | Troubleshooting, shows whats happening, can overwhelm device, so keep debug off unless specifc issue is debugging |

== IT Documentation ==
* Plans and Procedures
    * Standard operating procedures: sometimes directly from the manufacturer
        * Workflow: how it works and how we use it. 
        * Technical Documentation 
        * Contact Information: who supports software or support for vender 
    * Change management 
        * help desk 
        * a way for engineers and analysts to communicate with each other about changes that are being made
        * process for chaning IT system configurations
        * Change management database
        * Documentation
            * example: upgrading hardware or modifying configuration
            * this is the change that is being made on this day and time
            * Effects on other systems, or notify other users of downtime
            * Cross IT Discussion, just in case it effects other users you can see changes in one location 
            * Post Change Verification, asking users if its still working
            * Documenation for any changes that might have happened. 
    * Systems life cycle
        * describing analizing, designing and implimenting new IT systems 
        * IT is usally a service-based organization within a company where, where users come to IT with a problem
        * Analyze:  
            * alyzing a problem that usually a non IT person is trying to solve 
        * Design:
            * after a solution is in mind, design the solution
            * Making sure hardware is able to keep up with the solution 
            * Looking at technical components, makeing sure we can implement it
        * Implementation 
            * build out the system and prepair them for use
        * Utilize and support
            * analyst to support the system and helpdesk 
        * phase out and dispose 
            * desopose so and get rid of user data 
    * Incident Response plan
    * Disaster recovery plan
        * Creating High Avilability networks
            * load balancer: distributes data to multiple differnet servers running the same service, redierect traffic. 
            * Using multiple load balancers: if one fails or needs software upgrade, still have other load balancer operating
            * Load Balancers need to be connected to switches and connected to servers. Servers need to be connected to two loadbalancers each, using NIC teaming (network interface card), and need layer three switches or routers and those need to be redundant (maybe 4) via multipathing (via routing protocols, load balances, layer 2 protocols), multipule paths to data center. 
            * First Hop Redundancy Protocols, provoide redundant default gateway for routers:
                * Hot Standby Routing Protocol HSRP
                * Virtual Router Redundancy Protocol VRRP
            * Redundant firewalls
            * redundant ISP, fiber into different buildings or different parts of the building
            * redundant power and batteries
            * redundant heating, cooling, fire suppression (FM200 gas in datacenter)
        * Redundant data centers
            * Hot site, ready for redundant backup
            * Warm site 
            * Cold site 
            * Cloud data center
        * Backups
            * Backup Tapes 
            * Snapshot: taking image of server, like a virtual server, points of time when system is working correctly, could abandon 
        * Service Level Agreement Terms
            * Business Agreement for Service written in a contract, law suite if breached.  
                * Mean Time to Repair MTTR: contract backed by additional services provided or some credit back for cost of downtime. 
                * Mean time between failures MTBF
                * Recovery Time Objective RTO
                * Recovery Point Objective RPO: how much data can we not collect or lose before business is adversly affected
        * how to figure out what to do next 
    * business continuity plan
        * post disaster, how business continues to work without the IT system 
* Security and Device Policies
    * How users should behave how users behave with company hardware
        * onboarding and offboarding  
        * invintory controls
        * security policy restrictions 
        * 
    * Security Policy: CIA
        * Need for IT Security: databases of Name, address, age, profession etc but also location, age, medical records, security cameras, travel behavior etc, makes data valuable. 
        * Confidentiality: keep data priviate
        * Integrity: keep data accurate, prevent tapeuring of info
        * Availibility: make sure data is avilable for certain groups
    * Threats:
        * accidential (construction company cutting a fiber coard) and intentional 
    * Vulnerabilities: Org called MITRE publishes a list of CVE Common Vulnerabilities and Exposures CVE.ORG, zero days are when the exploit is unknown.  
    * Exploits: things that could be exploited  
    * Reduce Exposure 
        * Zero Trust: dont trust any devices untill you run them through policy and procedures:
            * User Identity and authentication
            * Device Identity and Authentication
            * Policy Compliance Device Scan
            *  Application Authorization access control
                * Role based access: only have access to required systems 
                * Least Privilege: Allow as little access as required, applies to system processes too
                * Separation of Duties: Process require more than a single person
                * Network Access Control: Authenticate User, Authenticate device, scan device, provide least privilege access, provide access based on role. 
                * Network Segmentation: creating different VLANS, put a firewall to the device you are connecting to which is called Screened Subnet or DMZ. 
                * Honypot: Hacker will get a database that is provided 
                * Defense in Depth: Zero Trust, least privilege, role based access, network segmentation enforcement, screened subnets DNZ, network access control, honeypots 
    * AAA Authenticiation Methods: 
        * Authentication: Multifactor, username and password 
        * Authorization: Privileges/Access Rights 
        * Accounting: record of who did what when
        * Server options: Cisco TACACS+ and IETF RADIUS protocols 
        * Domain authentications, domain active directory server, sent via protocl called kerberos that sends username and password from client to server to validate device and username and password in encryption, sends tickets from user to server. LDAP lightweight directory access allow to use single username and password for multiple devices. SSO will allow for one username and pw for multiple systems. 
    * Multifactor authentification: something you know, something you have, something you are, some where you are, something you do. 
    * Access control, device sends UN and PW and switch sends it to LDAP or sends to TACAS or RADIUS server for auth to allow device on network, get auth then tells switch to open the port for connection. Wifi is controled via layer 2 access protocols 802.1x or EAP extensible authentication protocol or both. 
    * On Boarding/Off Boarding
    * Remote Access/BYOD 
        * secure device   
        * Access control, device sends UN and PW and switch sends it to LDAP or sends to TACAS or RADIUS server for auth to allow device on network, get auth then tells switch to open the port for connection. Wifi is controled via layer 2 access protocols 802.1x or EAP extensible authentication protocol or both. 
    * On Boarding/Off Boarding
    * Remote Access/BYOD 
        * secure device   
        * varus scan
        * malware scan
        * username/password/passcode requirements
        * cookies
        * privacy concers? 
    * Password Policy
        * people that are in positions that have authority but dont have technical knowledge to understand it 
        * password construction rules
        * password expiration/change rules
        * lost password rules
        * NIST Recommendations: users choose passwords in predictable way, special characters, change passwords in predictable ways. 8 characheters, avoid spacs, encourage longer easy to remember passwords, avoid forcing special stuff in the password, no mandatory resets, ban common passwords, dont re-use passwords for non-work related purposes, uncourage use of password vaults/ramdom password generators, enforce registration for multi factor authentication
    * Security Assessments 
        * Risks in IT  
            * technical risks: internally and externally
            * facilities risks: make sure IT infrastructure is security, switch closets are concern as as IT closets to be as secure as possible. IT is a critical component of the business and we need to start treating it that way. 
            * human risks: most risk for ogs because of phishing, bad links, email attachments. but humans should be educated on 
        * Assessing risks with reports
            * Internal policies, procedures and processes 
            * SIEM Security Information and Event Management 
            * External Security assessment professional, business assessment professional 
            * Threat Assessment
                * what kind of org are you, what threats are specific for the group, what are the most serious threats and how to prevent those kinds of attacks 
            * Vulnerability assessment
                * vulnerability assessment of network design, faciliites are securied as best as we can, firewalls and servers are configured correctly and whether users have limited access for those servers or role based access to those servers 
                * posture assessment: validate those deviceses that are on network to make sure they dont have viruses and have no un-approved software.
                * Penetration Testing: hopefully not cause and outage and test the system and find out where the system is most vunerable. 
        * NMAP
            * tells what services are open and running on the server. 
            * Check out Matt Glass course on NMAP 
        * Business risk assessment, would the business be viable should an attack happen
            * Examine policies and procedures
            * verify policies are followed
            * How to correct and realign to make sure 
            * Assess vendor security posture. 
        * SIEM Security Information and Event Management 
            * rely on logging and SNMP collection  
            * starts to corrolate events to generate reports, make sure users are doing things they should do, or find viruses outpreaks and track path.
            * Generate audit reports to validate security of internal network.
    * Acceptiable use policy
        * web browsing guidance/restrictions  
        * software installations
        * email communcation guidlines
        * transfering data guidelines
        * personal vs professional use
        * consequences
    * Data Loss Prevention
        * Policy saying that dont do it
        * tech: DLP data loss prevention poliicy, to scann data if its being sent out into the internernet. 
    * Remote access policy/VPN Access/Remote Desktop Access/remote application access
    * Common Network Attacks. 
        * Check out Dale Meredith series of courses that about certifed network hacking.  
        * Human Exploits
            * Social engineering: email phishing, impersonation, USB drives, tailgaiting, shoulder surfing 
        * Technical attacks
            * DOS attack  
            * DDOS Distributed attack: spoofing what the attacker craft a message from IP that is not their own workstation, reflective is when a third party sends messages server which the server then sends messages to another computer which then floods the computer. Amplification sends DNS servers and sends messages to one computer, can wrangle IOT devices to send traffic to DNS servers which then funnel traffic to a target computer or network 
            * Wifi Attacks: WAR driving and tries to get password or pre-shaired key. Rouge AP attacks: trick users to join the AP by sending a deauthorization request to another AP. Evil twin attack: buy pineapple and see what past networks your devices have connected to old networks and then connects to the old network. MAC spoofing: setting outside of network and watch traffic and capture mac addresses and potentially connect as a MAC address and join the network. 
            * On Path Attack, or man in the middle attack: sends out ARP message that is spoofed, and fake a default gateway, and use trick certs and decrypt and re-incrypt traffic. 
            * Roughe DHCP Server: can reply faster than the Official DHCP server even gets the request, then do a On Path Attack, to get traffic from a device. 
            * Password Attacks: brute force attacks, critical to have a complex password. not have your password in rainbow tables
            * Virus/malware
            * Ransomware
            * DNS poisoning: send incoorect records onto DNS server
            * VLAN hopping: old by sending a bogus frame. no longer conserned about this. 
     * Network Hardening Techniques 
         * Securing Layer 2 
             * new switches need to be configured, configure each port with specialized services 
             * by default switches have preassigned VLANS to every single switch port, usually VLAN1, so need to abandon use of VLAN1
             * Disable all unused switch ports
             * Private VLANS, broadcast domain, virtual switch within a switch, so only devices that are on the VLAN hear the messages. Private VLANS are devices that are assigned its own unuque VLAN on the switch. Prevents ARP spoof and on path attach/man in the middle attack
         * Port Security 
             * each port listens for MAC address of the device that is connected and record it in database. when you disconnect the device with a MAC address that was recorded, and can deny traffic, and shut down switch and have admin check out what happened to the switch.  
             * Configuring switch: log into switch, show configureation of port `show run int f0/1`, shows vlan and access port vs trunk, shows port security, shows how to make mac address sticky so it configures and assignes MAC address autiomacially when you plug the device into the port. so when you plug a different deivice into the port it shows the new device mac adddress and says `security violation occured, caused by MAC address 0024.9b09.41c9 on port FastEthernet0/1.` and will make the port into an error state. you can check by using `show int f0/1` and it will say `line protocol is down (err-disabled)` and then the admin has to go on the interface configuration to shut the port down and then bring up the port but will need to re-add the new MAC address. With the correct MAC adderss, you still need to shut down the port and reboot: `show int f0/1` and `config t` and `int f0/1` and `shutdown` and then `no shutdown` and `exit` 
         * Rouge DHCP Servers
             * label all switch ports as untrusted switchports for DHCP. But label the one single port that leads to the  Official DHCP server as as the trusted port.  
         * Dynamic ARP Operation, ARP requests are MAC address for certain IP addresses and then device with correct MAC address will respond. DHCP Snooping Bindings are as each device gets its IP address from DHCP server, make tabel on switch, and map MAC address, IP address and Port. So DHCP Snooping Bindings allow for ARP inspections to work. Works with IPv6 but its called IPv6 router advertisement guard  
         * Layer 3 and 4 Access Control Lists  
             * Can enable lists on routers and firewalls  
             * what information we will permit and what infomation to deny and criteria for that. Checks IP address in `permit host 10.0.0.10` and `implicity deny any` will block any IP address, vs explicitly deny any  
             * Firewall: will need more phosicated access list, `permit any 192.168.10.10 eq 443` `implicit deny any any`and eq is port 443 is HTTPS.  
             * Control Plane Policing: prevents DDOS, prevents traffic though routers and layer 3 switches and routers, and if there is a spike in traffic, start to deny traffic related to DNS
         * Layer 7 
             * Simple Network Management Protocol SNMP: use to collect info on devices and management server to change conif on devices. Each version of SNMP has a different version and each version has different security offered. Version 1 has no security. SNMPv2c has string to authenticate, and can configure device to read only or read write access. added bulk data collection. SNMPv3 allows access to only certain MIBs and encripts communication, and authenticatse device and server, and provides different levels of security based on view options that are configured.
             * Software Updates with Firmware Updates, Operating system or software patches. 
             * Netstat: open command prompt and use `netstat -ano` to identify connections and services. Then open Task Manager and click Serives and sort by Process ID and show what servies are running. `[::]` means its a IPv6 service. and `UDP 0.0.0.0:500` is a VPN service. So you can see all services that are running on local machine by using `netstat` command.  
             * Password Security: Change default password. Make it reasonably complex. use Passowrd security guidlines. 
        * Wireless Encryption 
            * Wireless equivalent protocl 
            * WPA 
            * WPA2: 
            * WPA3
            * WPA-3 Enterprise is where you set up TACAS or RADIUS server with AD. 
            * Even if your using encrypted traffic at Layer 7, your data traffic is still 100% unencrypted. 
            * Authentication:
                * Open Network Shared, dont do
                * Pre shared key PSK
                * EAP: Extensible Authentication Protocol, allows to send username and pw to TACACS server or RADIUS server then go check in AD to see if User is authorized to connect to server. 
                * EAP-FAST
                * PEAP: similar to EAP-FAST
                * EAP-TLS
                * PEAP-TLS
                * MAC Filtering: easy to find MAC addresses, and can change and fake MAC addresses. easy to pass. 
            * Geofencing can set up fake wifi signals for beyond walls of building  
            * Client Isolation: clients can only talk to router and not other devices on network
            * Additional SSIDs: put multiple SSIDs can send out multiple SSIDs. Captiv portal to have user log into wireless network 
        * Remote Access:
                * configure admin worstations with specific IP address on specific subnet and those subnets were allowed 
                * Secure Shell SSH: CLI access to devices. 
                * VPN: 
                    * Site to Site to connect two locations together. Router/firewall to router/firewall. Typically uses IPSec. ` 
                    * Remote Access VPN: Client VPN installed on workstation and manually connect. IPSec and Clientless SSL. Split Tunnel, some traffic goes over internet and some goes to corporate network. Full tunnel: all traffic goes to firewall first, so org can scan all traffic before going out to internet  
                * RDP and VNC to remotely connect.
                * Virtual Desktop: Need to enable Remote Desktop for each computer, but need Remote Desktop Gateway to control remote users. Virtual Desktop is a virtualized computer to remote to. Dont have to worry about remote users workstation. Used inside corporate network itsself  
                * In/Out of band management, Network Management Options. Cutting your arm off when the network goes down. In Band is when you manage devices when network is up. When network is down called Out of Band, and can use dial up network to connect, or use a modem and firewall when network is down. 
            * SSH: SSH using putty
        * Physical Security:  
            * Cameras 
            * Motion sensors, cameras and lights
            * Asset Tracking: know where each device is, asset tags, prevent users from opening computers, tamper stickers 
            * Facility Access: card readers, secure access vestibule




* Agreements
    * non-disclosure agreement NDA 
    * Service level agreement SLA
    * memorandum of understanding MOU (users of the system and owners of the technology) 
== Network Drawings ==
* Data Center
    * label Aisles (depending on hot and cold airflow) 
    * Server Fronts will be pointing towards each other 
    * Each rack will be labeled with ABC and skip O confused with 0
    * Rack Diagram, 1 at bottom 24 at top. shows all equipment, Layer 3 switch, load balandcer, server 3, server 2, server 1, patch panel etc
* IDF/MDF
    * Main Distribution Frame MDF 
        * from old phone lines 
        * where we terminalte connections from outside the building 
        * Fiber WAN Connections
        * Single Mode Fiber
        * Multi mode fiber to IDFs
        * Network Hardware/Media Converters o
        * Telephone Connections if you have old land lines which might have Telco T1, PRI, POTS etc
        * VoIP: Maybe the MDF has VoIP gateway hardware connecting to to T1 or PRI, what connections are comeing into the facility 
    * Intermediate Distribution Frame IDF
        * IDF connects to MDF typically though multi mode fiber 
        * Cat6 patch panel: Network connections from users desks, connect users desktop to switch, which connects to MDF
        * Patch panel have labels, floor number, room number, jack number 
        * Network Switches, connect devices to connect all devices that are coming into patch panel, connect to switch, and connect to multi mode fiber
* Network Drawings
    * Icons from cysco 
    * Doesnt have to be a map, or giographical map
    * which devices are connected together, and how they are connected together. 
        * IP network listed
        * IP addresses 
        * Interfaces
        * Device names
        * how they are logically laid out
        * Userful when using Trace Route to find path of message though the network, to troubleshoot issues
    * Naming conventions
        * Number of devices 
        * Types of devices
        * type/location of building
* Other Docs
    * Site Survey Reports for wireless coverage
        * site survey of building materials
        * create heatmap of wireless signals
        * adjust power of APs to get coverage or add more APs
        * 
    * Audit assessment reports
        * Secuirty audit/assessment
        * invintory audit/assessment
        * user access audit/assessment
    * baseline configurations
        * daily snapshot of configes, called configuration management. periodic records of device configuration
        * usually a simple file of text
        * put in central location, to compaire configations
        * baseline configs for routers, switches and firewalls. 

==Corporate and Data Center Architectures==
* 3 Tier Design
    1. Core
        * "Backbone" of the network.
        * Connect all the distribution layer nodes together. 
        * High speed connections
        * Few to no policies
        * Limit changes to make traffic flow fast 
    2. Distribution
        * Connecting/Distributin network to all Access layer devices (computers and switches) to Layer 3 switches or routers to take all access layer devices and connect them to redundant devices (multiple Layer 3 routers or multiple Layer 3 switches.
        * Filter traffic that is undesirable on network
        * Routing Policies and implement routing protocols to distribute network for high-speed paths that are redundant and resiliant though the network.  
    3. Access
        * Computers in a office networked to a switch,
        * Control access to network (policies on the switches)
* Software Defined Networks SDN
    * The overlay we put in infrastrucutre on our hardware to describe how to move traffic nice and quick across the network
    * Datacenter use: At the top of the rack, place a network switch, and network switch will be the point where all the servers in the rack connect, this is called a leaf (kinda like Access Layer). Leaf connects to Spine switch (kinda like Distrobution layer)o 
    * East West communication: server to server communcation. 
    * North South communication: client goes into data center, goes out to client. 
    1. Application Layer
        * Where utilities and rulesets allow network to operate via polies (control traffic loads during peak times etc.) 
    2. Control Layer
        * The configuration that is applied to SDN Controller is applied in Control Layer. 
        * Responsible for moving traffic arround, accepting the configuration from the administrator from the workstation there, giving right info like IP addresses via DHCP services. applying some access control rules to limit where traffic can go, and responsible for moving traffic to right right location at the most efficient way possible. 
    3. Infrastructure Layer
        * Consitst of routers, switches, Layer 3 switches connected together with certain policies (routing and switching). 
        * Already has networking applied
        * Management Plane: mechanism of configuring, controlling and monitoring all devices on network via SDN Controller which will host all configurations that will get applied as an overlay to rest of hardware to make it easier to control and manipulate traffic. The configuration that is applied to SDN Controller is applied in Control Layer.

* Storage Area Network Connections
    1. SAN (just processorsers and memory) connections to Servers
    2. Servers need a way to connect to the SAN, is done with switch, 3 ways to do this
        * Fibre Channel: (connection via SAN, fiber optics to connect to a fiber optic switch to distribute SAN to servers). Layer 2 protocal, dont need to worry about IP or TCP or anything above the data link layer of OSI Model. 
        * Fibre Channel over Ethernet FCoE: over high speed Ethernet
        * iSCSi: Uses TCPIP connection between SAN and servers. 

==Cloud Services==
* Data Center Services
    * Server (Processsor and Memory)
    * Storage (Disk)
    * OS/Software

===Public, Private, Hybrid, Community Clouds===
* Community Cloud: When you have a private organization offering a specialized service to allow other smaller orgs to connect to it and use those services.
===Software as a service===
* Popular consumer markets
* Used in commercial operation for decades
* Hosted DNS

===Platform as a service===
* Hardware/Software
* "Server Side" services: Like a Linux server, where you can use processor and memory and storage space
* Database: SQL database, sending data to and from database
* Colocation: services set up in someone elses data center to offer redundancy to our own systems.  
===Infrastructure as a service===
* Server Hardware
* Disk/Storage 
* Automation to expand service needs.
===Desktop as a service===
* Virtual desktop to user
* "workstation" is mobile 
* easy to deploy
* easy to support

==Cloud Benefits==
* Mutitenancy: redundancy, grow rapidly
* Elasticity: grow or shrink enviroment
* Scalability:
* Security

=Network Troublehooting =
== Irritive Troublehooting Methodology==
1. Identify the problem
    * Everyone has ego, and frusterations happen. 
    * Talk and gather infomation. What can user can and cant do?
    * Identify the symptions.
    * Talk to other users and question users to figure out where issue is.
    * Change Managment, see if a change made by IT caused the issue.
    * Try and duplicate problem. If problem is not repeatable, dont disregard.
    * Multiple Problems, multiple things happening? 
2. Establish a theory of cause
    * Use OSI model to identify where the issue. Which will tell where to look further. Figure out what protocols and systems are involved in the system.
        * 7 Application Layer
        * 6 Presentation Layer
        * 5 Session Layer
        * 4 Transport Layer
        * 3 Network Layer
        * 2 Data Link Layer
        * 1 Physical Layer
    * Check your ego. Keep an open mind 
3. test the theory
    * Avoid Breaking network, keep ego in check, take care to not break stuff
    * Escalate to higher level 
4. estabish a plan of action
    * Examine required changes
    * change managment, to communcate changes to the systems, which dont need appovial, examin plan of action
    * Rollback plan, avoid a system wide action
5. Implement a solution
    * 
6. Verify solution
    * call to user to see if solution is good
    * IT is a service based org, kind friendly and helpfull for users to do their job
7. Document solution
    *  

== Identifying and troubleshooting cable issues ==

| Cable Types and Distances |          |          |             |
| cable type                | material | distance | bandwidth   |
| ----                      | ----     | ----     | ----        |
| Cat 5/6/7                 | Copper   | 100M     | up to 10Gb  |
| Multi Mode SX             | Fiber    | 1km      | up to 100GB |
| Single Mode LX            | Fiber    | 70 km    | up to 10Gb+ |

* wired cable specifications and uses
    * Max Bandwith is limited distancem not to mention max distance.  
    * Crossover cabels will still work but might have to switch cables. 
    * always try a different cable: damaged cable, bent pins, incorrect pinouts, incorrect cable type, open/short bent wires, bad port.  
    * Punch down tool and cable test are your friends.
    * Attenuation: when cable is too far
    * EMI: effecting interference from electrial equipment, espically from floresent lights. 
    * Crosstalk: 
    * Cableing issues with ethernet switch: like when computer is set to half duplex and switch is full duplex, it will not work. o
    * Rollover cable: Serial Port RS232 to Console Port of a router or switch, looks just like ethernet cable but is not. Sometimes is light blue. 
    * Link lite on ethernet switch: green good, yellow perhaps bad. Just know the lights on the switch. No lights might mean something is wrong. 
* copper cabling tools
    * always try a different cable: damaged cable, bent pins, incorrect pinouts, incorrect cable type, open/short bent wires, bad port.  
* fiber optic cabling tools
    * Dirty ends: scratched or dirty might need to be cleaned, specifc training will be needed.  
    * Fiber optic operation, use two seperate fibers to send data. TX/RX Reverse is when the cords are switched, link light will not blink. 
      Transciver Mismatch: SX Transceiver and LX Transceiver will not communcate with eacher other. 
    * OTDR Optical Time Domain Reflectometer: able to find how many meters in is the break/fault.
    * Light meter: strength of signal. Will need loopback adapter to shine the light reflected back at the other end of the loop. 
    * Fusion Splicer: put fiber into machine, put two ends and fuse them for one continues length. 
* Other
    * Multimeter: might use it to test electricy.  
== CLI Utilities:==

* Ping:
    * Find out if remote device is online or offline. 
    * Packet Internet Groper.
    * Destination Host Unreachable: Router saying the host is not reachable. 
    * Destination Network Unreachable: dont often get this message. 
    * Transmit failed: Network cable is unpluggedo. 
* Windows: `IPCONFIG` shows default gateway is the router. `ipconfig /all` is MAC addresses. 
    * `route print` shows routing table. Shows IP addresses with mask and is on interface. Default route is when traffic is not on the main interface. 
    * `arp -a` shows all messages sent to device, see dynamic addresses. `arp -d *` will clear arp table. ARP table will eventually clear out. 
    * `route -n` avoids delay of DNS, shows critical info of router (default gateway) 
        * Automatic Private IP address: 169.254.0.0 and is when something is wrong.
* Traceroute/Tracert 
    * Sends out packet to destination, makes a list of routers, and sometimes routers dont answer back, or skip.  
    * Windows: `tracert -d 10.0.0.10` -d hides DNS for faster 
* NMAP: application utility that can scan another remote system to see what ports are open and potentially scan for vunulabilities.
    * `netstat -ano` run on the device, to see what ports are open.  
* Linux: 
    * `ifconfig` shows all interfaces on workstation and in it is `ens33` is the ethernet interface on the device and the IP address of the workstation is the `inet` address.  
    * `Hostname`: 
        * hostname is name of workstation 
    * `NSLookup example.com`: looks up local machine for hostname or IP address, or change DNS server lookup by typing `nslookup example.com 8.8.8.8`
    * `Dig`: gives DNS records`
* PuTTY:  
    * telnet 
        * connect to router and click `show ip route` shows routing infomation and how to reach it. Also shows network interface cards, showing ethernet and unique network. O means the route was learned from OSPF, C mean static route and was manually configured. `show arp` shows arp table.  
    * Router
        * `show mac address-table` as switches dont have IP tables, maps port number to mac address. `show mac address-table address 00c.29fc.70a5` will tell you what switch port the mac address is connected to.   

== Network Software Utilities == 
* Packet Capture
    * Wireshark adn WinPcap: capture all traffic from network interface card and analize infomation in wireshark on problem PC.
        * show traffic only to and from router, user query: `ip.addr==192.168.10.1` 
    * Port Mirror: option on some switches to take all traffic on one port and mirror it on another port to capture traffic with another device or PC. 
    * Network Tap: device takes all traffic and sends traffic to another device. 
* Capture Traffic using TCPDUMP on linux
    * `tcpdump -v` v for verbose. doesnt have same analizing as wireshark 
* Bandwith Testing: `iPef`CLI utility tests speed between two devices. `iperf -s` to start server and `iperf -c 10.0.0.100` starts testing speed of the other device. Otherwise use `fast.com`  
* IP Scanning
    * Utilities like Nmap, to scan a rang of IP addresses on the network. Good for finding a device and you dont know the IP address.  
* TFTP: Software like Tftpd64, once you are in the router and switch, can use command `copy` to copy files to and from device with `copy tftp flash` 
* Netflow: way of collecting data from switch or router to give snapshot of traffic. 

== Wireless troubleshooting and utilities ==
* Throughput is amout of data that we can transfer on any given signal. 
* Negotiated speed: stronger the signal higher the speed, further away from signal lower data speed to prevent errors
* Received Signal Strenght Indication RSSI, device measuring wifi signal
* Effective isotropic radiated power EIRP: measurement on device itself, Radio power outpoot subtraceted by cord of signal loss, plus the antennas power give us decibles or dbs
* Antennas
    * Signal Polarization: if antena is horizontal it makes the signal vertical, if antenna is vertical it makes the signal horizontal.  
    * Reflection: wireless signal might be reflected by the wall, or be absorbed, attena placement is crital. 
    * Attenuation: when moving farther away from signal it 
* Common wireless issues
    * using wrong atenna like yagi for direction or a omni direction
    * Frequency mismatch: 5.0 GHz (better cover with alot more channels) and 2.4GHz (only three channels, even though there are 13-14 available, use cahnnel 1, 6 and 11 becase in order to get 802.11 to work correctly we need 22 MHz of space to get wireless signals to work and transfer data where you need at least 5 channels of space to do that. need each AP on a different channel. or if you have two differenet SSIDs make sure each is on its own unique channel in that particual area,)
    * Interference: 2.4 GHz makes water molicules spin from microwave, so use 5 GHz. are users complaining about microwaves ovens.  
    * Channel overlaps: use a Spectrum Analyzer tool to view each frequency.  
    * Wireless Coverage: In site surveys make sure you have enough coverage. 
    * Channels: make sure all APs are not on the same channel, put each AP on its own channel (with 2.4 you can only use 3 cahnnels)
    * Client Disassociation: weak signal or someother interference. See wireless controler to see what is goiung.
    * AP Association Time: related to Client Dissociation, show controller how long a device can connected to the network.
    * Channel Utilization: controler that preconfigures each AP. 
* Configuraiton issues
    * Wrong SSID  
    * Wrong Passphrase password
    * Security Mismatch
    * Captive Protal issues

= Troubleshooting common PC networking issues = 
* Wrong Cofiguation
    * wrong gateway 
        * can happen if a misconfigure or a issue with DHCP server when its not handing out default gateway.  
    * wrong subnet mask
        * will be a warning saying defualt gateway is not on the same network segments (sebnet) that is defined by the IP address and subnet mask.  
    * IP address
        * will be a warning saying defualt gateway is not on the same network segments (sebnet) that is defined by the IP address and subnet mask.  
    * DNS
    * Duplicate IPs
        * strange consiquence, sometimes windows will assign it 169.254 address, or not give you an error. Cant ping gateway.  
    * Duplicate MACs
    * DHCP server issues
        * strange consiquence, sometimes windows will assign it 169.254 addres
        * DHCP server can run out of addresses to hand ou
        * too many devices, hand out all avilable addresses and run out of addresses. change lease time on DHCP server to make the lease time shorter or add more addresses.  
        * Rogue DNCP server, might show that you cannot ping your defualt gateway, can be attacker on network, or where a user tries to bring in their AP where it tries to give out addresses.
    * getting `ipconfig` working again
        * use `release` and `renew`to request DHCP server to give a new IP address. 
* Layer 2 switch issues          
   * Duplicate MACs
       * `ipconfig /all` shows MAC physical Address, and this should be unique but can be changed.  
       * Where pings to your the IP address of the computer arnt always going to work. 
       * have to log into swich via cerial cabel and you will see a error saying that the mac address is flak=pping between ports ex Fa0/3 and port Fa0/1en 
       * `show mac address-table add 000c.29fc.70a5` and see the two ports. So on a switch you cant have the same mac address on the same VLAN on 2 different ports at the same time. so you can change the VLAN the device is on by `config t` and select port `int f0/3` and switch ports `switchport access vlan 50` but you should not have duplicate mac addresses so this is not good anyway.
    * Changing VLANS 
        * use the ARP table to see what devices are on the VLAN. Use in command prompt `arp -a` to see what devices are on your broadcast domain. 
        * `config t` 
        * `int f0/1`
        * `switchport access vlan 20`
    * Speed/Duplex Mismatch: force the speed or duplex, happens on older devices, or could happen if port doesnt get reverted back to default config, when were done with the device. Device just wont link up on switch. 
    * Spanning Tree Protocol not enabled, connecting two switches with two links, end up getting messages that spin around, and it never stops and it will shut the switch down.
    * Optical Link Budget: minimun amout of light needed to make work. can be cauased by too many faults in the cord or put in patch pannel.
    * Collisions: hubs only, but dont happen with switches, only hubs.
    * Multicast: ghosting a pc, set up dozen of computers, but can overwhelm the network. 

= Troubleshooting Layer 7 and above issues = 
* Layer 3 routing issues
    * Routing Loop: How IP routing works, destination IP address of the packet needs to be the IP of the destination server/computer. Routing tables will guide the way of the frame in routers. IF router is misconfigured, can mess up traffic in routing the packet back and forth. Fixed with TTL value, time to live, in IP protocol. Command prompt error will say 'ttl expired in transit' and tracert will show a ping between the two routers. 
    * pinging the router will show that destination is not avilable. doing a `tracert -d` to the router willl show you where it stops. so try to SSH to the router, `show ip route` and the valuess with C is a direct connected route. if not there, add the route route, `config t` and `ip route 10.0.0.0 255.255.255.255.0 172.16.0.6` with the final IP being the router connected to the server we want to connect to. 
* DNS issues
    * `nslookup`  
    * any address that starts with 10.somethiung is a private IP address and connect be routed. 
    * `ipconfig /flushdns` will flush the dns records on the local computer
* NTP and Certificate Issues
    * Time: make sure the computer has correct time set.  
* Firewall Restrictions 
    * If you see a computer on the `arp -a` table, and you can ping the device at 10.9 but you cant ping 10.9 to the other device 10.30? The firewall might deny all other traffice going to device, but allow all trafic from computer and back to computer. You could create inbound rule on firewall. Ports only happen in layer 4 protocols, TCP and UDP.  
    * BYOD challanges, users using their own device. Security, age and many issues. Or admin control over users device. 
    * Licensed features issues: 
    * Network perfromance issues. 








= Smart Hands Training =
== Switches ==
1. Patch panel labeling
* no standards in labeling
1. Patch Panels 
* 48 or 24 ports, identifier label or switch room identifier
* Patch cables is a patch panel to switch
* Use toner to find patch panel. 
1. Ports on a switch
* Odds on top, evens on bottom
* Switch stack number(1)/module number (0)/port number (GI is gigabit) 
* 6-8-12 ports and 24-48 ports
* 9000 series switches 
* Stacked switches are 1 to higher number from top to bottom
* Smaller switches
* Cascading Switches, connecting switches switches
    * MAC address tables of top switch will show Port example: 1 and mac address of each computer ex: DF 7B. and the Bottom switch will show Port example 1 and mac of the other computers on top switch, example: c2 a7 6e b3 3f 
    * Broadcast messages can be a problem, with broadcast storm with messages if all the switches are connected to each other. Spanning Tree Protocol stops these broadcast storms but not all switches have STP
    {{file:../labsetup.png}}
    * `show mac address-table dynamic` or CAM table table, Content Addressable directory and show one port `show mac address-table interface int f0/1` 
    * KNow the IP address, find switchport: 
        * no mapping on switch of IP address to switchport, as switch is layer 2 device, but all IP addresses are affilated with MAC addresses. 
        * find out where 10.0.0.128 is plugged into the switch, go from that local network segment (have to be on the workstation that can 
        * look at AARP table on workstation, `arp -a`, show the mapping on the workstation of IP addresses to respective MAC addresses. 
        * SSH into the Switch that the workstation is connected to. `show mac address-table ?` and the ? allows you to type the address `mac address-table address 000c.292d.9200` which will show into the port. Then look at the network map and see what switch is connected to that port and SSH into that new switch, and show the mac address of the new swich `show mac address-table address 000c.29ed.9200`
        * `show cdp neighbor` will show all neighbors that are connected to the switch.
 nd remember that MAC address eventually get forgotten in MAC address Tables   
* 
== Switch Configuration ==
* Swtich Memory
    * Bootstrap stored in EEPROM, OS operating stored in flash memoery, startup-config is stored in virtual NVRAM, running-config is stored in RAM
    * Working with config and use `copy running-config startup-config` were taking copy of running-config in ram and your copying it to flash, but we dont call it startup-config, you call it config.txt
* Switch Cofiguration LAB: RS-232 Port connects computer to thw Switch via the Console Port
    * Use Putty
    * User mode is `>`
    * `en` is enable to privilaged mode `#`
    * Config mode is `config t`
    * Change name of switch: `hostname Blakeswitch1`
    * Domain Name so you can generate crypto key to enable SSH: `ip domain-name blake.com` 
    * Banner message of the day, for when users connect to it they can see what is going on: `banner motd #this is Blake's switch, stay out!#`
    * Security stuff
        * create password from user mode to privilaged mode: `enable secret passwordcisco`
        * create username: `username blake scret passwordcisco`
        * generate crypto key and enable SSH: `crypto key generate rsa` 
            * use at least 1024 bits 
        * Change version of SSH: `ip ssh ver 2` 
        * Enable password encryption: `service password-encryption`
     * Go to line con 0: `line con 0`
        * put a password on it: `password passwordcisco` 
    * Log in: `login` and exit: `exit` 
    * Configure switch so we can SSH into it: `line vty 0 4` 
    * Log into the switch with that username and password that is in the database on the router: `login local`
    * Only allow SSH: `transport input ssh`
    * Switch needs IP address for the SSH, switches do not examin IP addresses (only mac addresses in the frame and frame header, switches purpose is a layer 2 device), so IP address is just to SSH to the Switch, not route traffic. So to create a IP address, must create virtual interface: `interface vlan 1` which is a switched virtual interface SVI and has MAC address and IP address: `ip address 10.0.0.5 255.255.255.0` and `no shutdown`
    * VLAN 1 are just the switch ports, so they can access the virtual interface, to see current config use `show running-config`and save config `copy running-config startup-config` 
    * Show contense of flash memory: `show flash`
    * SSH into the switch:
        * use putty in SSH mode, and you can ping the IP to make sure the computer can see the switch on the network.
        * use `en` to enter into privilaged mode
        * change password: `config t`
        * enable secret: `randompasswordh`
        * exit: `exit` and copy running config to startup config: `running-config startup-config` 
     * Reset passowrd:  
         * password is stored in file called config.txt and flash memory. access flash memory from ROMmon mode, by pressing button one button on switch while switch boots up for a hard reset wich brings you to switch, and you have to initialize flash memory with `flash_init` and look at flash memory: `dir flash` which will show the config.txt file where the password is located, but you need to rename the file to something else than `config.text` by renaming it `rename flash:config.text flash:config.bak` then boot up switch with `boot`, after it boots up use `en` for privilaged mode and do `show flash` to show files in flash memory, and rename `rename flash:config.bak flash:config.text` and now make that running config file to make it startup config file: ` copy flash:/config.text running-config` now switch has running config copied over, now go into config mode and change enable secret to something you know: `enable secret cisco` and exit and `copy running-config startup-conf` 
    * Upgrading the IOS
        * `showversion` shows version of OS and `showflash` and shows OS that is curretly loading, OS files should end in .BIN, so change directiries by `dir flash:/c2960-lanbasek9-mx.150-2.SE6 
        * Size of the .BIN file is important to check free memory `show flash` 
        * Check integrety of the .BIN file, exactly same bits as same as router: `verify /md5 flash:c2960-lanbasek9-mz.150-2.se7.bin` runs the file though the md5 algerathm and it spits out a value and use the values to verify integrity of the file
        * Turn on TFTP server
        * Ping work station `pin 10.0.0.10`
        * Now copy the file `copy tftp flash` and enter address `10.0.0.10` and source file name
        * see if file transferd by `show flash`
        * Use new file for switch `boot system flash:/c2960-lanbasek9-mz.150-2.se7.bin`
        * exit and save `copy running-config startup-config`
        * reload the switch `reload` to the new .BIN file 
        * go back into privialge mode `en` and show version `show version`
         * 
== Accessing a switch ==
* Putty
    * IP address, password 
* Solarwinds keeps network sessions active to remote into. 
* Console
    * directly connecting to the switch via RJ45 to USB, Cisco specific, should be in the MDF room
    * Console ports for Cisco are blue port, yellow is management port 
* Prompts: # means privilege exec mode, (Config) is config mode so be careful, show command will show settings
* VLANs
    * network is assigned a number and name, some 
    * Depending on AD OU, device will but put on the VLAN
* Clearpass 
    * trunk port, multiple VLANs at a time to connect across VLANs
    * access ports, where only one VLAN exhist on the port
    * NAC port: type of access port, security port, and talks to clearpass and decides what vland the device belongs to
    * Build port: also an access port, port assigned to particular VLAN
    * static access ports: are for the servers, where VM ware host connects to server 
    1. MAB: Mack Authentication, authenticated with MAC. Add the dynamic VLAN setting so it goes on the correct network.  
    2. Dot1X authentication: domain controllers, all computers should be using dot1x

* Solarwinds
    1. Gets DHCP reservations
    2. Can use MAPs to see maps. 
    3. Can set up alerts 
* Wireless
1. Green: has two different VLANs
2. Purple: lift scanners
3. Blue: old lift scanners
4. Red: going away, wireless infogenissis access,
5. EmployeeDevice being replaced: for employee cell phones, new password changed every year.
6. Slate: for V. devices, temperate sensors, i9's iPads, each device has own password to its mac address
       

